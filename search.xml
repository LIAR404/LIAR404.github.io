<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>æ‚è®°</title>
    <url>/2021/04/17/%E6%9D%82%E8%AE%B0/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="e022b5894217348190d43edd945b68d8be8cbc535146ba9b7dbf1c0cecf831b2">351274e506ceb21c1026bbf6d58125d7153f14cebb490764f31e5291b9e6e96889fac705c4d3f60a883d2278ce8542eb0ce146d5284e697709c288e0b53858732d2fb144f1a8ffbe9c3be66842828dc6895999c6ff7f6182cdb7eb981480504e8713356f87f4f119eb671b8fc97dea18</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">è¿™é‡Œéœ€è¦å¯†ç </span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
  </entry>
  <entry>
    <title>HTTPå­¦ä¹ è®°å½•</title>
    <url>/2021/07/12/HTTP%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<p>ã€Šå›¾è§£HTTPã€‹å­¦ä¹ è®°å½•</p>
<span id="more"></span>

<h2 id="URIå’ŒURL"><a href="#URIå’ŒURL" class="headerlink" title="URIå’ŒURL"></a>URIå’ŒURL</h2><h3 id="URI"><a href="#URI" class="headerlink" title="URI"></a>URI</h3><p>ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ˆUniform Resource Identifierï¼ŒURI)æ˜¯ä¸€ä¸ªç”¨äºæ ‡è¯†æŸä¸€äº’è”ç½‘èµ„æºåç§°çš„å­—ç¬¦ä¸²ã€‚ è¯¥ç§æ ‡è¯†å…è®¸ç”¨æˆ·å¯¹ä»»ä½•ï¼ˆåŒ…æ‹¬æœ¬åœ°å’Œäº’è”ç½‘ï¼‰çš„èµ„æºé€šè¿‡ç‰¹å®šçš„åè®®è¿›è¡Œäº¤äº’æ“ä½œã€‚URIç”±åŒ…æ‹¬ç¡®å®šè¯­æ³•å’Œç›¸å…³åè®®çš„æ–¹æ¡ˆæ‰€å®šä¹‰</p>
<img src="/2021/07/12/HTTP%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/1.jpg" style="zoom: 50%;">

<p>ç»å¯¹è·¯å¾„æ ¼å¼</p>
<blockquote>
<p><a href="ftp://ftp.is.co.za/rfc/rfc1808.txt">ftp://ftp.is.co.za/rfc/rfc1808.txt</a>   </p>
<p><a href="http://www.ietf.org/rfc/rfc2396.txt">http://www.ietf.org/rfc/rfc2396.txt</a>    </p>
<p>ldap://[2001:db8::7]/c=GB?objectClass?one    </p>
<p>mailto:<a href="mailto:&#x4a;&#x6f;&#104;&#110;&#x2e;&#x44;&#111;&#101;&#64;&#x65;&#120;&#x61;&#x6d;&#112;&#108;&#101;&#x2e;&#99;&#x6f;&#109;">&#x4a;&#x6f;&#104;&#110;&#x2e;&#x44;&#111;&#101;&#64;&#x65;&#120;&#x61;&#x6d;&#112;&#108;&#101;&#x2e;&#99;&#x6f;&#109;</a>    </p>
<p>news:comp.infosystems.<a href="http://www.servers.unix/">www.servers.unix</a>    </p>
<p>tel:+1-816-555-1212    </p>
<p>telnet://192.0.2.16:80/    </p>
<p>urn:oasis:names:specification:docbook:dtd:xml:4.1.2</p>
</blockquote>
<h3 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h3>]]></content>
      <tags>
        <tag>HTTP</tag>
      </tags>
  </entry>
  <entry>
    <title>GKCTF Ã— DASCTF 2021 WP</title>
    <url>/2021/06/26/GKCTF-%C3%97-DASCTF-2021-WP/</url>
    <content><![CDATA[<p>åªæœ‰ä¸€é“é¢˜</p>
<span id="more"></span>

<h1 id="easycms"><a href="#easycms" class="headerlink" title="easycms"></a>easycms</h1><p>æ‰“å¼€æ˜¯ä¸€ä¸ªCMSåšçš„ä¼ä¸šç”¨æˆ·ç½‘ç«™ï¼Œç¿»åˆ°æœ€ä¸‹é¢æ‰¾åˆ°CMSç±»å‹</p>
<p><img src="/2021/06/26/GKCTF-%C3%97-DASCTF-2021-WP/1.jpg"></p>
<p>ç™¾åº¦æ­¤ç±»å‹CMSæ¼æ´æˆ–åå°ç­‰ä¿¡æ¯ï¼Œåœ¨å®˜ç½‘æœåˆ°</p>
<p><img src="/2021/06/26/GKCTF-%C3%97-DASCTF-2021-WP/2.jpg"></p>
<p>æ‰“å¼€<code>http://xxx.node3.buuoj.cn/admin.php</code></p>
<img src="/2021/06/26/GKCTF-%C3%97-DASCTF-2021-WP/3.jpg" style="zoom:33%;">

<p>æ ¹æ®æç¤ºå¯†ç æ˜¯äº”ä½å¼±å£ä»¤ï¼Œè€ŒEmailè¿˜å¯ä»¥æ˜¯ç”¨æˆ·å</p>
<p>æ­£å¥½ä¸»é¡µ</p>
<img src="/2021/06/26/GKCTF-%C3%97-DASCTF-2021-WP/4.jpg" style="zoom: 50%;">

<p>äºæ˜¯æˆ‘å°±è¾“å…¥äº†è¿™ä¸ªé‚®ç®±ï¼Œå°è¯•11111ï¼Œ12345ç­‰æœ€å¸¸è§çš„äº”ä½å¼±å£ä»¤ï¼Œä¸å¯¹ï¼â€¦</p>
<p>åæ¥ç»è¿‡å‡ºé¢˜äººçš„æç¤ºæ‰çŸ¥é“ç”¨æˆ·åä¸éœ€è¦ä¿¡æ¯æ”¶é›†â€¦</p>
<p>æœ€åä»¥admin/12345æˆåŠŸç™»å½•</p>
<p>ç™»å½•åå°åï¼ŒæŸ¥èµ„æ–™å¾—åˆ°è‰çŸ¥åå°getshellçš„æ–¹æ³•</p>
<p><a href="https://wiki.96.mk/Web%E5%AE%89%E5%85%A8/%E7%A6%85%E7%9F%A5/%E7%A6%85%E7%9F%A5%E5%90%8E%E5%8F%B0getshell/">ç¦…çŸ¥åå°getshell - Wiki</a></p>
<p>è¿›è¡Œæµ‹è¯•å‘ç°ç”±äºç‰ˆæœ¬ä¸åŒï¼Œæ­¤ç‰ˆæœ¬å·²æ— æ³•è¿›è¡Œå¤ç°æ­¤æ¼æ´</p>
<p>åœ¨åå°æ¨¡æ¿å°è¯•ä¿®æ”¹</p>
<img src="/2021/06/26/GKCTF-%C3%97-DASCTF-2021-WP/5.jpg" style="zoom: 25%;">

<p>ä¸ºäº†åˆ›å»ºæ–‡ä»¶æ‰¾åˆ°å¯ä»¥ä¸Šä¼ æ–‡ä»¶çš„åœ°æ–¹</p>
<img src="/2021/06/26/GKCTF-%C3%97-DASCTF-2021-WP/6.jpg" style="zoom: 25%;">

<p>éšä¾¿ä¸Šä¼ ä¸€ä¸ªtxtæ–‡ä»¶ï¼Œä¿®æ”¹æ–‡ä»¶å</p>
<p>ç„¶åå†ç¼–è¾‘æ¨¡æ¿å³å¯ä¿å­˜</p>
<p>ç¼–è¾‘åè¿”å›å‰å°å¾—åˆ°flag</p>
<img src="/2021/06/26/GKCTF-%C3%97-DASCTF-2021-WP/7.jpg" style="zoom: 25%;">

]]></content>
      <categories>
        <category>CTF</category>
      </categories>
      <tags>
        <tag>CTF</tag>
      </tags>
  </entry>
  <entry>
    <title>é¶åœºå®æˆ˜è®°å½•</title>
    <url>/2021/06/16/%E9%9D%B6%E5%9C%BA%E5%AE%9E%E6%88%98%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<p>æ¸—é€æµ‹è¯•é¶åœºç»ƒä¹ </p>
<span id="more"></span>

<h1 id="pikachué¶åœº"><a href="#pikachué¶åœº" class="headerlink" title="pikachué¶åœº"></a>pikachué¶åœº</h1><h2 id="çˆ†ç ´ç»ƒä¹ "><a href="#çˆ†ç ´ç»ƒä¹ " class="headerlink" title="çˆ†ç ´ç»ƒä¹ "></a>çˆ†ç ´ç»ƒä¹ </h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>â€œæš´åŠ›ç ´è§£â€æ˜¯ä¸€æ”»å‡»å…·æ‰‹æ®µï¼Œåœ¨webæ”»å‡»ä¸­ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨è¿™ç§æ‰‹æ®µå¯¹åº”ç”¨ç³»ç»Ÿçš„è®¤è¯ä¿¡æ¯è¿›è¡Œè·å–ã€‚ å…¶è¿‡ç¨‹å°±æ˜¯ä½¿ç”¨å¤§é‡çš„è®¤è¯ä¿¡æ¯åœ¨è®¤è¯æ¥å£è¿›è¡Œå°è¯•ç™»å½•ï¼Œç›´åˆ°å¾—åˆ°æ­£ç¡®çš„ç»“æœã€‚ ä¸ºäº†æé«˜æ•ˆç‡ï¼Œæš´åŠ›ç ´è§£ä¸€èˆ¬ä¼šä½¿ç”¨å¸¦æœ‰å­—å…¸çš„å·¥å…·æ¥è¿›è¡Œè‡ªåŠ¨åŒ–æ“ä½œ</p>
<p>ç†è®ºä¸Šæ¥è¯´ï¼Œå¤§å¤šæ•°ç³»ç»Ÿéƒ½æ˜¯å¯ä»¥è¢«æš´åŠ›ç ´è§£çš„ï¼Œåªè¦æ”»å‡»è€…æœ‰è¶³å¤Ÿå¼ºå¤§çš„è®¡ç®—èƒ½åŠ›å’Œæ—¶é—´ï¼Œæ‰€ä»¥æ–­å®šä¸€ä¸ªç³»ç»Ÿæ˜¯å¦å­˜åœ¨æš´åŠ›ç ´è§£æ¼æ´ï¼Œå…¶æ¡ä»¶ä¹Ÿä¸æ˜¯ç»å¯¹çš„ã€‚ æˆ‘ä»¬è¯´ä¸€ä¸ªwebåº”ç”¨ç³»ç»Ÿå­˜åœ¨æš´åŠ›ç ´è§£æ¼æ´ï¼Œä¸€èˆ¬æ˜¯æŒ‡è¯¥webåº”ç”¨ç³»ç»Ÿæ²¡æœ‰é‡‡ç”¨æˆ–è€…é‡‡ç”¨äº†æ¯”è¾ƒå¼±çš„è®¤è¯å®‰å…¨ç­–ç•¥ï¼Œå¯¼è‡´å…¶è¢«æš´åŠ›ç ´è§£çš„â€œå¯èƒ½æ€§â€å˜çš„æ¯”è¾ƒé«˜ã€‚ è¿™é‡Œçš„è®¤è¯å®‰å…¨ç­–ç•¥, åŒ…æ‹¬ï¼š</p>
<p>1.æ˜¯å¦è¦æ±‚ç”¨æˆ·è®¾ç½®å¤æ‚çš„å¯†ç ï¼›<br>2.æ˜¯å¦æ¯æ¬¡è®¤è¯éƒ½ä½¿ç”¨å®‰å…¨çš„éªŒè¯ç ï¼ˆæƒ³æƒ³ä½ ä¹°ç«è½¦ç¥¨æ—¶è¾“çš„éªŒè¯ç ï½ï¼‰æˆ–è€…æ‰‹æœºotpï¼›<br>3.æ˜¯å¦å¯¹å°è¯•ç™»å½•çš„è¡Œä¸ºè¿›è¡Œåˆ¤æ–­å’Œé™åˆ¶ï¼ˆå¦‚ï¼šè¿ç»­5æ¬¡é”™è¯¯ç™»å½•ï¼Œè¿›è¡Œè´¦å·é”å®šæˆ–IPåœ°å€é”å®šç­‰ï¼‰ï¼›<br>4.æ˜¯å¦é‡‡ç”¨äº†åŒå› ç´ è®¤è¯ï¼›<br>ç­‰ç­‰â€¦<br>åƒä¸‡ä¸è¦å°çœ‹æš´åŠ›ç ´è§£æ¼æ´,å¾€å¾€è¿™ç§ç®€å•ç²—æš´çš„æ”»å‡»æ–¹å¼å¸¦æ¥çš„æ•ˆæœæ˜¯è¶…å‡ºé¢„æœŸçš„</p>
<blockquote>
<p>ä»æ¥æ²¡æœ‰å“ªä¸ªæ—¶ä»£çš„é»‘å®¢åƒä»Šå¤©ä¸€æ ·çƒ­è¡·äºçŒœè§£å¯†ç  â€”â€”å¥¥æ–¯ç‰¹æ´›å¤«æ–¯åŸº</p>
</blockquote>
<h3 id="åŸºäºè¡¨å•çš„æš´åŠ›ç ´è§£"><a href="#åŸºäºè¡¨å•çš„æš´åŠ›ç ´è§£" class="headerlink" title="åŸºäºè¡¨å•çš„æš´åŠ›ç ´è§£"></a>åŸºäºè¡¨å•çš„æš´åŠ›ç ´è§£</h3><img src="/2021/06/16/%E9%9D%B6%E5%9C%BA%E5%AE%9E%E6%88%98%E8%AE%B0%E5%BD%95/1.jpg" style="zoom:80%;">

<p>ä¸€ä¸ªç™»é™†ç•Œé¢çš„è¡¨å•ï¼Œéšä¾¿è¯•è¯•ï¼Œç„¶åBPæŠ“åŒ…ï¼Œå‘é€åˆ°çˆ†ç ´æ¨¡å—ï¼Œè¯»å­—å…¸çˆ†ç ´</p>
<p>(ç¦»è°±çš„æ˜¯ChromeæŠ“ä¸äº†åŒ…ï¼Œåº”è¯¥æ˜¯localhostçš„é—®é¢˜ï¼Œç«ç‹é€šè¿‡<code>about:config</code>ä¿®æ”¹ä¸€ä¸‹æŠ“å–localhostçš„è®¾å®šå°±å¥½äº†ï¼Œåº”è¯¥æ˜¯Chromeçš„é—®é¢˜)</p>
<h3 id="éªŒè¯ç ç»•è¿‡-on-server"><a href="#éªŒè¯ç ç»•è¿‡-on-server" class="headerlink" title="éªŒè¯ç ç»•è¿‡(on server)"></a>éªŒè¯ç ç»•è¿‡(on server)</h3><h3 id="éªŒè¯ç ç»•è¿‡-on-client"><a href="#éªŒè¯ç ç»•è¿‡-on-client" class="headerlink" title="éªŒè¯ç ç»•è¿‡(on client)"></a>éªŒè¯ç ç»•è¿‡(on client)</h3><h2 id="XSSç»ƒä¹ "><a href="#XSSç»ƒä¹ " class="headerlink" title="XSSç»ƒä¹ "></a>XSSç»ƒä¹ </h2><h3 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>Cross-Site Scripting ç®€ç§°ä¸ºâ€œCSSâ€ï¼Œä¸ºé¿å…ä¸å‰ç«¯å æˆæ ·å¼è¡¨çš„ç¼©å†™â€CSSâ€å†²çªï¼Œæ•…åˆç§°XSSã€‚ä¸€èˆ¬XSSå¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å‡ ç§å¸¸è§ç±»å‹ï¼š<br>  1.åå°„æ€§XSS;<br>  2.å­˜å‚¨å‹XSS;<br>  3.DOMå‹XSS;</p>
<p>XSSæ¼æ´ä¸€ç›´è¢«è¯„ä¼°ä¸ºwebæ¼æ´ä¸­å±å®³è¾ƒå¤§çš„æ¼æ´ï¼Œåœ¨OWASP TOP10çš„æ’åä¸­ä¸€ç›´å±äºå‰ä¸‰çš„æ±Ÿæ¹–åœ°ä½<br>XSSæ˜¯ä¸€ç§å‘ç”Ÿåœ¨å‰ç«¯æµè§ˆå™¨ç«¯çš„æ¼æ´ï¼Œæ‰€ä»¥å…¶å±å®³çš„å¯¹è±¡ä¹Ÿæ˜¯å‰ç«¯ç”¨æˆ·<br>å½¢æˆXSSæ¼æ´çš„ä¸»è¦åŸå› æ˜¯ç¨‹åºå¯¹è¾“å…¥å’Œè¾“å‡ºæ²¡æœ‰åšåˆé€‚çš„å¤„ç†ï¼Œå¯¼è‡´â€œç²¾å¿ƒæ„é€ â€çš„å­—ç¬¦è¾“å‡ºåœ¨å‰ç«¯æ—¶è¢«æµè§ˆå™¨å½“ä½œæœ‰æ•ˆä»£ç è§£ææ‰§è¡Œä»è€Œäº§ç”Ÿå±å®³<br>å› æ­¤åœ¨XSSæ¼æ´çš„é˜²èŒƒä¸Šï¼Œä¸€èˆ¬ä¼šé‡‡ç”¨â€œå¯¹è¾“å…¥è¿›è¡Œè¿‡æ»¤â€å’Œâ€œè¾“å‡ºè¿›è¡Œè½¬ä¹‰â€çš„æ–¹å¼è¿›è¡Œå¤„ç†:<br> è¾“å…¥è¿‡æ»¤ï¼šå¯¹è¾“å…¥è¿›è¡Œè¿‡æ»¤ï¼Œä¸å…è®¸å¯èƒ½å¯¼è‡´XSSæ”»å‡»çš„å­—ç¬¦è¾“å…¥;<br> è¾“å‡ºè½¬ä¹‰ï¼šæ ¹æ®è¾“å‡ºç‚¹çš„ä½ç½®å¯¹è¾“å‡ºåˆ°å‰ç«¯çš„å†…å®¹è¿›è¡Œé€‚å½“è½¬ä¹‰</p>
<h3 id="åå°„å‹XSS-get"><a href="#åå°„å‹XSS-get" class="headerlink" title="åå°„å‹XSS(get)"></a>åå°„å‹XSS(get)</h3><img src="/2021/06/16/%E9%9D%B6%E5%9C%BA%E5%AE%9E%E6%88%98%E8%AE%B0%E5%BD%95/2.jpg" style="zoom:80%;">

<p>æ˜¯ä¸€ä¸ªæ–‡æœ¬æ¡†ï¼Œéšä¾¿è¾“ä¸€ä¸ªæµ‹è¯•åŠŸèƒ½æ­£å¸¸</p>
<img src="/2021/06/16/%E9%9D%B6%E5%9C%BA%E5%AE%9E%E6%88%98%E8%AE%B0%E5%BD%95/3.jpg" style="zoom:80%;">

<p>è¾“å…¥ç‰¹æ®Šç¬¦å·<code>&#39;</code> <code>&lt;</code>ç­‰å‘ç°æ— è¿‡æ»¤</p>
<p>å°è¯•è¾“å…¥payloadå‘ç°æ–‡æœ¬æ¡†é™åˆ¶äº†å­—ç¬¦æ•°</p>
<p>å®¡æŸ¥å…ƒç´ ä¿®æ”¹ä¸€ä¸‹<code>maxlength</code></p>
<p>å†è¾“å…¥payload:  <code>&lt;script&gt;alert(&#39;xss&#39;)&lt;/script&gt;</code></p>
<img src="/2021/06/16/%E9%9D%B6%E5%9C%BA%E5%AE%9E%E6%88%98%E8%AE%B0%E5%BD%95/4.jpg" style="zoom:80%;">

<p>æˆåŠŸè§¦å‘XSS</p>
<img src="/2021/06/16/%E9%9D%B6%E5%9C%BA%E5%AE%9E%E6%88%98%E8%AE%B0%E5%BD%95/5.jpg" style="zoom: 50%;">

<p>ps: æˆ–è€…ç›´æ¥åœ¨åœ°å€æ è¾“å…¥</p>
<p><img src="/2021/06/16/%E9%9D%B6%E5%9C%BA%E5%AE%9E%E6%88%98%E8%AE%B0%E5%BD%95/6.jpg"></p>
<p>ä¹Ÿå¯ä»¥æˆåŠŸè§¦å‘XSS</p>
<h3 id="åå°„å‹XSS-post"><a href="#åå°„å‹XSS-post" class="headerlink" title="åå°„å‹XSS(post)"></a>åå°„å‹XSS(post)</h3><p>å¤šä¸€æ­¥ç™»å½•çš„æ­¥éª¤</p>
<p>ç™»é™†åæ–‡æœ¬æ¡†åŒä¸Šé¢˜</p>
<p>åŒç†è¾“å…¥payloadï¼ŒæˆåŠŸè§¦å‘XSS</p>
<h3 id="å­˜å‚¨å‹XSS"><a href="#å­˜å‚¨å‹XSS" class="headerlink" title="å­˜å‚¨å‹XSS"></a>å­˜å‚¨å‹XSS</h3><img src="/2021/06/16/%E9%9D%B6%E5%9C%BA%E5%AE%9E%E6%88%98%E8%AE%B0%E5%BD%95/7.jpg" style="zoom: 50%;">

<p>æ˜¯ä¸€ä¸ªç•™è¨€æ¿ï¼Œå¯ä»¥å­˜å…¥æ•°æ®åº“ï¼Œæ¯æ¬¡æ‰“å¼€æ­¤é¡µé¢éƒ½ä¼šæ˜¾ç¤ºä¹‹å‰çš„ç•™è¨€</p>
<p>å¹¶ä¸”ï¼Œç»æµ‹è¯•ï¼Œå‘ç°è¾“å…¥ç‰¹æ®Šç¬¦å·<code>&#39;</code> <code>&lt;</code>æ— è¿‡æ»¤</p>
<p>è¾“å…¥payload:  <code>&lt;script&gt;alert(&#39;å­˜å‚¨å‹xss&#39;)&lt;/script&gt;</code></p>
<img src="/2021/06/16/%E9%9D%B6%E5%9C%BA%E5%AE%9E%E6%88%98%E8%AE%B0%E5%BD%95/8.jpg" style="zoom: 80%;">

<p>æˆåŠŸè§¦å‘XSSï¼Œå¹¶ä¸”ç”±äºç•™è¨€æ¿å†™å…¥æ•°æ®åº“ï¼Œæ¯æ¬¡æ‰“å¼€æ­¤é¡µé¢éƒ½ä¼šè§¦å‘XSS</p>
<img src="/2021/06/16/%E9%9D%B6%E5%9C%BA%E5%AE%9E%E6%88%98%E8%AE%B0%E5%BD%95/9.jpg" style="zoom:67%;">

<h1 id="sqli-labsé¶åœº"><a href="#sqli-labsé¶åœº" class="headerlink" title="sqli-labsé¶åœº"></a>sqli-labsé¶åœº</h1><h1 id="DVWAé¶åœº"><a href="#DVWAé¶åœº" class="headerlink" title="DVWAé¶åœº"></a>DVWAé¶åœº</h1>]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>CTF</tag>
        <tag>æ¸—é€æµ‹è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>CTFå­¦ä¹ ç¬”è®°</title>
    <url>/2021/05/27/CTF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p>èŒæ–°çš„å…¥å‘è®°å½•è€Œå·²</p>
<span id="more"></span>
<h1 id="SQLæ³¨å…¥"><a href="#SQLæ³¨å…¥" class="headerlink" title="SQLæ³¨å…¥"></a>SQLæ³¨å…¥</h1><h2 id="ç™»å½•ç•Œé¢"><a href="#ç™»å½•ç•Œé¢" class="headerlink" title="ç™»å½•ç•Œé¢"></a>ç™»å½•ç•Œé¢</h2><blockquote>
<p>ç™»å½•ç•Œé¢å¿…ç„¶ä¼šä¸æ•°æ®åº“è¿›è¡Œäº¤äº’ï¼Œæ‰€ä»¥æ˜¯SQLæ³¨å…¥çš„ç»å…¸ä½ç½®</p>
</blockquote>
<p>å¸¸è§ç™»é™†ç•Œé¢SQLè¯­å¥<code>select * from admin where username = &#39;ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·å&#39; and password = &#39;ç”¨æˆ·è¾“å…¥çš„å¯†ç &#39;</code><br>ä¸‡èƒ½ç”¨æˆ·å:<code>&#39; or 1=1 -- </code>     (<code>-- </code>åé¢æœ‰ä¸€ä¸ªç©ºæ ¼)<br>ç¬¬ä¸€ä¸ª<code>&#39;</code>ç”¨äºé—­åˆSQLè¯­å¥ç”¨æˆ·åçš„å•å¼•å·ï¼Œ<code>1=1</code>æ°¸è¿œä¸ºçœŸï¼Œ<code>-- </code>ç”¨äºæ³¨é‡Šå…¶åçš„å¯†ç è¯­å¥ï¼Œä»è€Œç»•è¿‡ç™»å½•éªŒè¯ </p>
]]></content>
      <categories>
        <category>CTF</category>
      </categories>
      <tags>
        <tag>CTF</tag>
      </tags>
  </entry>
  <entry>
    <title>è¯¾ç¨‹è®¾è®¡</title>
    <url>/2021/05/25/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/</url>
    <content><![CDATA[<blockquote>
<p>C++ç»“è¯¾ä½œä¸šï¼Œç¬¬ä¸€æ¬¡æäº†è¿™ä¹ˆé•¿çš„ä»£ç (è™½ç„¶å·¨å¤šbugï¼Œè¿˜æœ‰æ°´è¡Œæ•°çš„å«Œç–‘<br>ä¼ ä¸Šæ¥ç©ç©ğŸ™</p>
</blockquote>
<span id="more"></span>

<h1 id="å›¾ä¹¦é¦†ç®¡ç†ç³»ç»Ÿ"><a href="#å›¾ä¹¦é¦†ç®¡ç†ç³»ç»Ÿ" class="headerlink" title="å›¾ä¹¦é¦†ç®¡ç†ç³»ç»Ÿ"></a>å›¾ä¹¦é¦†ç®¡ç†ç³»ç»Ÿ</h1><h2 id="main-cpp"><a href="#main-cpp" class="headerlink" title="main.cpp"></a>main.cpp</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">//*****************************å›¾ä¹¦é¦†ç®¡ç†ç³»ç»Ÿ***********************************</span></span><br><span class="line"><span class="comment">//è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢/äººå·¥æ™ºèƒ½å­¦é™¢</span></span><br><span class="line"><span class="comment">//162020113 æåšè½©</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;basic.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;manage.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;________________________________________________________________________&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;|                                                                      |&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;|                      æ¬¢è¿æ¥åˆ°NUAAå›¾ä¹¦é¦†ç®¡ç†ç³»ç»Ÿ			|&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;|                                                                      |&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;|----------------------------------------------------------------------|&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;|                                                                      |&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;|                                                                      |&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;|               è¯·é€‰æ‹©æ‚¨çš„èº«ä»½(å­¦ç”Ÿ-S/æ•™å¸ˆ-T/ç®¡ç†-A)			|&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;|                                                                      |&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;|                                                                      |&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;|                                                                      |&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;|                                                                      |&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;|                                                                      |&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;|                                                                      |&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;|______________________________________________________________________|&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	Students student;</span><br><span class="line">	Teachers teacher;</span><br><span class="line">	Manage manager;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">char</span> judge_identity;</span><br><span class="line">	<span class="comment">//é€‰æ‹©èº«ä»½</span></span><br><span class="line">	<span class="keyword">char</span> judge1;</span><br><span class="line">	<span class="comment">//é€‰æ‹©æ³¨å†Œ/ç™»å½•</span></span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·é€‰æ‹©èº«ä»½:\t&quot;</span>;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; judge_identity;</span><br><span class="line">		<span class="built_in">cin</span>.ignore();</span><br><span class="line">		<span class="keyword">switch</span> (judge_identity) &#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;S&#x27;</span>: &#123;</span><br><span class="line">				<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">					<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ³¨å†Œ/ç™»å½•(R/L):\t&quot;</span>;</span><br><span class="line">					<span class="built_in">cin</span> &gt;&gt; judge1;</span><br><span class="line">					<span class="built_in">cin</span>.ignore();</span><br><span class="line">					<span class="keyword">if</span> (judge1 == <span class="string">&#x27;R&#x27;</span> || judge1 == <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">						student.registered();</span><br><span class="line">					<span class="keyword">else</span> <span class="keyword">if</span> (judge1 == <span class="string">&#x27;L&#x27;</span> || judge1 == <span class="string">&#x27;l&#x27;</span>)</span><br><span class="line">						student.login();</span><br><span class="line">					<span class="keyword">else</span></span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ— æ•ˆå­—ç¬¦! è¯·é‡æ–°è¾“å…¥&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;s&#x27;</span>: &#123;</span><br><span class="line">				<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">					<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ³¨å†Œ/ç™»å½•(R/L):\t&quot;</span>;</span><br><span class="line">					<span class="built_in">cin</span> &gt;&gt; judge1;</span><br><span class="line">					<span class="built_in">cin</span>.ignore();</span><br><span class="line">					<span class="keyword">if</span> (judge1 == <span class="string">&#x27;R&#x27;</span> || judge1 == <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">						student.registered();</span><br><span class="line">					<span class="keyword">else</span> <span class="keyword">if</span> (judge1 == <span class="string">&#x27;L&#x27;</span> || judge1 == <span class="string">&#x27;l&#x27;</span>)</span><br><span class="line">						student.login();</span><br><span class="line">					<span class="keyword">else</span></span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ— æ•ˆå­—ç¬¦! è¯·é‡æ–°è¾“å…¥&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;T&#x27;</span>: &#123;</span><br><span class="line">				<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">					<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ³¨å†Œ/ç™»å½•(R/L):\t&quot;</span>;</span><br><span class="line">					<span class="built_in">cin</span> &gt;&gt; judge1;</span><br><span class="line">					<span class="built_in">cin</span>.ignore();</span><br><span class="line">					<span class="keyword">if</span> (judge1 == <span class="string">&#x27;R&#x27;</span> || judge1 == <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">						teacher.registered();</span><br><span class="line">					<span class="keyword">else</span> <span class="keyword">if</span> (judge1 == <span class="string">&#x27;L&#x27;</span> || judge1 == <span class="string">&#x27;l&#x27;</span>)</span><br><span class="line">						teacher.login();</span><br><span class="line">					<span class="keyword">else</span></span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ— æ•ˆå­—ç¬¦! è¯·é‡æ–°è¾“å…¥&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;t&#x27;</span>: &#123;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ³¨å†Œ/ç™»å½•(R/L):\t&quot;</span>;</span><br><span class="line">				<span class="built_in">cin</span> &gt;&gt; judge1;</span><br><span class="line">				<span class="built_in">cin</span>.ignore();</span><br><span class="line">				<span class="keyword">if</span> (judge1 == <span class="string">&#x27;R&#x27;</span> || judge1 == <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">					teacher.registered();</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (judge1 == <span class="string">&#x27;L&#x27;</span> || judge1 == <span class="string">&#x27;l&#x27;</span>)</span><br><span class="line">					teacher.login();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;A&#x27;</span>: &#123;</span><br><span class="line">				manager.login();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;a&#x27;</span>: &#123;</span><br><span class="line">				manager.login();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">default</span>: &#123;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ— æ•ˆå­—ç¬¦!è¯·é‡æ–°è¾“å…¥!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="struct-h"><a href="#struct-h" class="headerlink" title="struct.h"></a>struct.h</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> STRUCT_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STRUCT_H</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¹¦ç±ä¿¡æ¯ç»“æ„ä½“</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">book</span> &#123;</span></span><br><span class="line">	<span class="keyword">char</span> book_name[<span class="number">25</span>];</span><br><span class="line">	<span class="keyword">char</span> book_location[<span class="number">25</span>];</span><br><span class="line">	<span class="keyword">char</span> book_author[<span class="number">15</span>];</span><br><span class="line">	<span class="keyword">int</span> book_num = <span class="number">1</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å­¦ç”Ÿä¿¡æ¯ç»“æ„ä½“</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">students</span> &#123;</span></span><br><span class="line">	<span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> ID;</span><br><span class="line">	<span class="keyword">char</span> password[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">char</span> ownbook_name[<span class="number">15</span>];</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ•™å¸ˆä¿¡æ¯ç»“æ„ä½“</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">teachers</span> &#123;</span></span><br><span class="line">	<span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> ID;</span><br><span class="line">	<span class="keyword">char</span> password[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">char</span> ownbook_name[<span class="number">15</span>];</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç®¡ç†å‘˜ä¿¡æ¯ç»“æ„ä½“</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">admins</span> &#123;</span></span><br><span class="line">	<span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> ID;</span><br><span class="line">	<span class="keyword">char</span> password[<span class="number">10</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é¦†é•¿ä¿¡æ¯ç»“æ„ä½“</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">directors</span> &#123;</span></span><br><span class="line">	<span class="keyword">char</span> ID[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">char</span> password[<span class="number">10</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<h2 id="basic-h"><a href="#basic-h" class="headerlink" title="basic.h"></a>basic.h</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> BASIC_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BASIC_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;struct.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;manage.h&quot;</span>	<span class="comment">//ä½¿ç”¨å‹å…ƒå‡½æ•°å¿…é¡»ï¼Ÿ</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Basic</span> &#123;</span></span><br><span class="line">	<span class="keyword">protected</span>:</span><br><span class="line">		<span class="keyword">char</span> *book_name;</span><br><span class="line">		<span class="keyword">char</span> *book_location;</span><br><span class="line">		<span class="keyword">char</span> *book_author;</span><br><span class="line">		<span class="keyword">int</span> book_num;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		Basic() &#123;&#125;;</span><br><span class="line">		~Basic() &#123;</span><br><span class="line">			<span class="keyword">delete</span>[] book_name;</span><br><span class="line">			<span class="keyword">delete</span>[] book_location;</span><br><span class="line">			<span class="keyword">delete</span>[] book_author;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">booksearch</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Books</span>:</span> <span class="keyword">public</span> Basic &#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		Books() &#123;&#125;</span><br><span class="line">		~Books() &#123;</span><br><span class="line">			<span class="keyword">delete</span> []book_name;</span><br><span class="line">			<span class="keyword">delete</span> []book_location;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">Manage::addbook</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="comment">//ç®¡ç†ç±»å‹å…ƒå‡½æ•°æ·»åŠ ä¹¦ç±</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Students</span>:</span> <span class="keyword">public</span> Basic &#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="keyword">char</span> *student_name;</span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> student_ID;</span><br><span class="line">		<span class="keyword">char</span> *student_password;</span><br><span class="line">		<span class="keyword">char</span> *ownbook_name;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		Students() &#123;</span><br><span class="line">			ownbook_name = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">10</span>];</span><br><span class="line">			<span class="built_in">strcpy</span>(ownbook_name, <span class="string">&quot;-No Book-&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		~Students() &#123;	<span class="comment">//ææ„å‡½æ•°ï¼Œé‡Šæ”¾ç©ºé—´</span></span><br><span class="line">			<span class="keyword">delete</span> []student_name;</span><br><span class="line">			<span class="keyword">delete</span> []ownbook_name;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">registered</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="comment">//å­¦ç”Ÿæ³¨å†Œ</span></span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">login</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="comment">//å­¦ç”Ÿç™»å½•</span></span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">choose</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="comment">//é€‰æ‹©åŠŸèƒ½</span></span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">borrow</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="comment">//å€Ÿä¹¦</span></span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">repay</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="comment">//è¿˜ä¹¦</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teachers</span>:</span> <span class="keyword">public</span> Basic &#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="keyword">char</span> *teacher_name;</span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> teacher_ID;</span><br><span class="line">		<span class="keyword">char</span> *teacher_password;</span><br><span class="line">		<span class="keyword">char</span> *ownbook_name;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		Teachers() &#123;</span><br><span class="line">			ownbook_name = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">10</span>];</span><br><span class="line">			<span class="built_in">strcpy</span>(ownbook_name, <span class="string">&quot;-No Book-&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		~Teachers() &#123;</span><br><span class="line">			<span class="keyword">delete</span> []teacher_name;</span><br><span class="line">			<span class="keyword">delete</span> []ownbook_name;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">registered</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="comment">//æ•™å¸ˆæ³¨å†Œ</span></span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">login</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="comment">//æ•™å¸ˆç™»å½•</span></span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">choose</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="comment">//é€‰æ‹©åŠŸèƒ½</span></span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">borrow</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="comment">//å€Ÿä¹¦</span></span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">repay</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="comment">//è¿˜ä¹¦</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<h2 id="basic-cpp"><a href="#basic-cpp" class="headerlink" title="basic.cpp"></a>basic.cpp</h2><figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;basic.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//æœç´¢ä¹¦ç±ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Basic::booksearch</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	fstream <span class="built_in">read</span>;</span><br><span class="line">	book searching;</span><br><span class="line">	<span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">	<span class="comment">//ç”¨äºåˆ¤æ–­æ˜¯å¦å­˜åœ¨æ­¤ä¹¦ç±</span></span><br><span class="line">	<span class="keyword">while</span> (m == <span class="number">0</span>) &#123;	<span class="comment">//å½“æ­¤ä¹¦ç±ä¸å­˜åœ¨æ—¶ å¾ªç¯è¾“å…¥</span></span><br><span class="line">		<span class="built_in">read</span>.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥æƒ³æŸ¥æ‰¾çš„å›¾ä¹¦å:\t&quot;</span>;</span><br><span class="line">		<span class="keyword">char</span> s[<span class="number">25</span>];</span><br><span class="line">		<span class="built_in">cin</span>.getline(s, <span class="number">25</span>);</span><br><span class="line">		book_name = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(s) + <span class="number">1</span>];</span><br><span class="line">		<span class="built_in">strcpy</span>(book_name, s);</span><br><span class="line">		<span class="keyword">while</span> (!<span class="built_in">read</span>.eof()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (!<span class="built_in">read</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="built_in">read</span>.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;searching, <span class="keyword">sizeof</span>(searching));</span><br><span class="line">			<span class="keyword">if</span> (!<span class="built_in">strcmp</span>(book_name, searching.book_name)) &#123;</span><br><span class="line">				m = <span class="number">1</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±åç§°:\t&quot;</span> &lt;&lt; searching.book_name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±ä½œè€…:\t&quot;</span> &lt;&lt; searching.book_author &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±ä½ç½®:\t&quot;</span> &lt;&lt; searching.book_location &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å‰©ä½™æ•°é‡:\t&quot;</span> &lt;&lt; searching.book_num &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="keyword">break</span>;	<span class="comment">//æ— breakæ—¶ï¼Œåœ¨æœç´¢æ–‡ä»¶ä¸­æœ€åä¸€ä¸ªä¹¦ç±æ—¶ä¼šè¾“å‡ºä¸¤æ¬¡</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">read</span>.<span class="built_in">close</span>();</span><br><span class="line">		<span class="comment">//*****æ³¨æ„å…³é—­æ–‡ä»¶ï¼æœªå…³é—­æ–‡ä»¶æ—¶æŒ‡é’ˆä¸€ç›´åœ¨æ–‡ä»¶ç»“å°¾*****</span></span><br><span class="line">		<span class="keyword">if</span> (m == <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±ä¸å­˜åœ¨!è¯·é‡æ–°è¾“å…¥!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//å­¦ç”Ÿæ³¨å†Œ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Students::registered</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	fstream <span class="built_in">write</span>;	<span class="comment">//å°†å­¦ç”Ÿæ³¨å†Œä¿¡æ¯å†™å…¥æ–‡ä»¶</span></span><br><span class="line">	<span class="built_in">write</span>.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">	students registered;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥æ‚¨çš„å§“å:\t&quot;</span>;</span><br><span class="line">	<span class="built_in">cin</span>.getline(registered.name, <span class="number">10</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥æ‚¨çš„å­¦å·:\t&quot;</span>;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; registered.ID;</span><br><span class="line">	<span class="built_in">cin</span>.ignore();</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥å¯†ç :\t&quot;</span>;</span><br><span class="line">	<span class="built_in">cin</span>.getline(registered.password, <span class="number">10</span>);</span><br><span class="line">	<span class="keyword">char</span> password[<span class="number">10</span>];</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·ç¡®è®¤å¯†ç :\t&quot;</span>;</span><br><span class="line">	<span class="built_in">cin</span>.getline(password, <span class="number">10</span>);</span><br><span class="line">	<span class="keyword">if</span> (!<span class="built_in">strcmp</span>(password, registered.password)) &#123;</span><br><span class="line">		<span class="built_in">write</span>.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;registered, <span class="keyword">sizeof</span>(registered));</span><br><span class="line">		<span class="built_in">write</span>.<span class="built_in">close</span>();</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ³¨å†ŒæˆåŠŸ!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">while</span> (<span class="built_in">strcmp</span>(password, registered.password)) &#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¸¤æ¬¡å¯†ç è¾“å…¥ä¸ä¸€è‡´ è¯·é‡æ–°è¾“å…¥:\t&quot;</span>;</span><br><span class="line">			<span class="built_in">cin</span>.getline(password, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (!<span class="built_in">strcmp</span>(password, registered.password)) &#123;</span><br><span class="line">			<span class="built_in">write</span>.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;registered, <span class="keyword">sizeof</span>(registered));</span><br><span class="line">			<span class="built_in">write</span>.<span class="built_in">close</span>();</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ³¨å†ŒæˆåŠŸ!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//å­¦ç”Ÿç™»å½•</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Students::login</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	fstream <span class="built_in">read</span>;</span><br><span class="line">	students login;</span><br><span class="line">	<span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">	<span class="comment">//ç”¨äºåˆ¤æ–­æ˜¯å¦å­˜åœ¨æ­¤ç”¨æˆ·</span></span><br><span class="line">	<span class="keyword">while</span> (m == <span class="number">0</span>) &#123;	<span class="comment">//å½“ç”¨æˆ·IDä¸å­˜åœ¨æ—¶ å¾ªç¯è¾“å…¥</span></span><br><span class="line">		<span class="built_in">read</span>.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥æ‚¨çš„å­¦å·:\t&quot;</span>;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; student_ID;</span><br><span class="line">		<span class="built_in">cin</span>.ignore();</span><br><span class="line">		<span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">//ç”¨äºåˆ¤æ–­ç»ˆæ­¢å¾ªç¯</span></span><br><span class="line">		<span class="keyword">while</span> (!<span class="built_in">read</span>.eof()) &#123;</span><br><span class="line">			<span class="built_in">read</span>.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;login, <span class="keyword">sizeof</span>(login));</span><br><span class="line">			<span class="keyword">if</span> (student_ID == login.ID) &#123;</span><br><span class="line">				m = <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">char</span> s[<span class="number">10</span>];</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥å¯†ç :\t&quot;</span>;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">while</span> (n == <span class="number">0</span>) &#123;</span><br><span class="line">					<span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line">					<span class="built_in">cin</span>.ignore();</span><br><span class="line">					student_password = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(s) + <span class="number">1</span>];</span><br><span class="line">					<span class="built_in">strcpy</span>(student_password, s);</span><br><span class="line">					<span class="keyword">if</span> (!<span class="built_in">strcmp</span>(student_password, login.password)) &#123;</span><br><span class="line">						n = <span class="number">1</span>;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\n********************************ç™»å½•æˆåŠŸ********************************&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						student_name = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(login.name) + <span class="number">1</span>];</span><br><span class="line">						<span class="built_in">strcpy</span>(student_name, login.name);</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; login.name &lt;&lt; <span class="string">&quot;åŒå­¦ æ‚¨å¥½!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;*****ä¸ªäººä¿¡æ¯*****&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å§“å:\t&quot;</span> &lt;&lt; login.name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ID:\t&quot;</span> &lt;&lt; login.ID &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å·²å€Ÿä¹¦ç±:\t&quot;</span> &lt;&lt; login.ownbook_name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						choose();</span><br><span class="line">					&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (!<span class="built_in">read</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (m == <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;*************************ç”¨æˆ·ä¸å­˜åœ¨!è¯·é‡æ–°è¾“å…¥!*************************&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">read</span>.<span class="built_in">close</span>();</span><br><span class="line">		<span class="comment">//*****æ³¨æ„å…³é—­æ–‡ä»¶ï¼æœªå…³é—­æ–‡ä»¶æ—¶æŒ‡é’ˆä¸€ç›´åœ¨æ–‡ä»¶ç»“å°¾*****</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//æ•™å¸ˆæ³¨å†Œ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Teachers::registered</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	fstream <span class="built_in">write</span>;</span><br><span class="line">	<span class="comment">//å°†æ•™å¸ˆæ³¨å†Œä¿¡æ¯å†™å…¥æ–‡ä»¶</span></span><br><span class="line">	<span class="built_in">write</span>.<span class="built_in">open</span>(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">	teachers registered;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥æ‚¨çš„å§“å:\t&quot;</span>;</span><br><span class="line">	<span class="built_in">cin</span>.getline(registered.name, <span class="number">10</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥æ‚¨çš„å·¥å·:\t&quot;</span>;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; registered.ID;</span><br><span class="line">	<span class="built_in">cin</span>.ignore();</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥å¯†ç :\t&quot;</span>;</span><br><span class="line">	<span class="built_in">cin</span>.getline(registered.password, <span class="number">10</span>);</span><br><span class="line">	<span class="keyword">char</span> password[<span class="number">10</span>];</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·ç¡®è®¤å¯†ç :\t&quot;</span>;</span><br><span class="line">	<span class="built_in">cin</span>.getline(password, <span class="number">10</span>);</span><br><span class="line">	<span class="keyword">if</span> (!<span class="built_in">strcmp</span>(password, registered.password)) &#123;</span><br><span class="line">		<span class="built_in">write</span>.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;registered, <span class="keyword">sizeof</span>(registered));</span><br><span class="line">		<span class="built_in">write</span>.<span class="built_in">close</span>();</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ³¨å†ŒæˆåŠŸ!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">while</span> (<span class="built_in">strcmp</span>(password, registered.password)) &#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¸¤æ¬¡å¯†ç è¾“å…¥ä¸ä¸€è‡´ è¯·é‡æ–°è¾“å…¥:\t&quot;</span>;</span><br><span class="line">			<span class="built_in">cin</span>.getline(password, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (!<span class="built_in">strcmp</span>(password, registered.password)) &#123;</span><br><span class="line">			<span class="built_in">write</span>.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;registered, <span class="keyword">sizeof</span>(registered));</span><br><span class="line">			<span class="built_in">write</span>.<span class="built_in">close</span>();</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ³¨å†ŒæˆåŠŸ!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//æ•™å¸ˆç™»å½•</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Teachers::login</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	fstream <span class="built_in">read</span>;</span><br><span class="line">	teachers login;</span><br><span class="line">	<span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">	<span class="comment">//ç”¨äºåˆ¤æ–­æ˜¯å¦å­˜åœ¨æ­¤ç”¨æˆ·</span></span><br><span class="line">	<span class="keyword">while</span> (m == <span class="number">0</span>) &#123;	<span class="comment">//å½“ç”¨æˆ·IDä¸å­˜åœ¨æ—¶ å¾ªç¯è¾“å…¥</span></span><br><span class="line">		<span class="built_in">read</span>.<span class="built_in">open</span>(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥æ‚¨çš„å­¦å·:\t&quot;</span>;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; teacher_ID;</span><br><span class="line">		<span class="built_in">cin</span>.ignore();</span><br><span class="line">		<span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">//ç”¨äºåˆ¤æ–­ç»ˆæ­¢å¾ªç¯</span></span><br><span class="line">		<span class="keyword">while</span> (!<span class="built_in">read</span>.eof()) &#123;</span><br><span class="line">			<span class="built_in">read</span>.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;login, <span class="keyword">sizeof</span>(login));</span><br><span class="line">			<span class="keyword">if</span> (teacher_ID == login.ID) &#123;</span><br><span class="line">				m = <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">char</span> s[<span class="number">10</span>];</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥å¯†ç :\t&quot;</span>;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">while</span> (n == <span class="number">0</span>) &#123;</span><br><span class="line">					<span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line">					<span class="built_in">cin</span>.ignore();</span><br><span class="line">					teacher_password = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(s) + <span class="number">1</span>];</span><br><span class="line">					<span class="built_in">strcpy</span>(teacher_password, s);</span><br><span class="line">					<span class="keyword">if</span> (!<span class="built_in">strcmp</span>(teacher_password, login.password)) &#123;</span><br><span class="line">						n = <span class="number">1</span>;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\n********************************ç™»å½•æˆåŠŸ********************************&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						teacher_name = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="built_in">strlen</span>(login.name) + <span class="number">1</span>];</span><br><span class="line">						<span class="built_in">strcpy</span>(teacher_name, login.name);</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; login.name &lt;&lt; <span class="string">&quot;åŒå­¦ æ‚¨å¥½!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;*****ä¸ªäººä¿¡æ¯*****&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å§“å:\t&quot;</span> &lt;&lt; login.name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ID:\t&quot;</span> &lt;&lt; login.ID &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å·²å€Ÿä¹¦ç±:\t&quot;</span> &lt;&lt; login.ownbook_name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						choose();</span><br><span class="line">					&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (!<span class="built_in">read</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (m == <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;*************************ç”¨æˆ·ä¸å­˜åœ¨!è¯·é‡æ–°è¾“å…¥!*************************&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">read</span>.<span class="built_in">close</span>();</span><br><span class="line">		<span class="comment">//*****æ³¨æ„å…³é—­æ–‡ä»¶ï¼æœªå…³é—­æ–‡ä»¶æ—¶æŒ‡é’ˆä¸€ç›´åœ¨æ–‡ä»¶ç»“å°¾*****</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//å­¦ç”Ÿé€‰æ‹©åŠŸèƒ½</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Students::choose</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> judge1;</span><br><span class="line">	<span class="comment">//åˆ¤æ–­åŠŸèƒ½</span></span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·é€‰æ‹©:\t1.æŸ¥æ‰¾ä¹¦ç±&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       \t2.å€Ÿé˜…ä¹¦ç±&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       \t3.å½’è¿˜ä¹¦ç±&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       \t4.ä¿®æ”¹å¯†ç &quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       \t0.é€€å‡ºç™»å½•&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; judge1;</span><br><span class="line">		<span class="built_in">cin</span>.ignore();</span><br><span class="line">		<span class="keyword">switch</span> (judge1) &#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>: &#123;</span><br><span class="line">				booksearch();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;2&#x27;</span>: &#123;</span><br><span class="line">				borrow();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;3&#x27;</span>: &#123;</span><br><span class="line">				repay();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;0&#x27;</span>: &#123;</span><br><span class="line">				<span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">default</span>: &#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//æ•™å¸ˆé€‰æ‹©åŠŸèƒ½</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Teachers::choose</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> judge1;</span><br><span class="line">	<span class="comment">//åˆ¤æ–­åŠŸèƒ½</span></span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·é€‰æ‹©:\t1.æŸ¥æ‰¾ä¹¦ç±&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       \t2.å€Ÿé˜…ä¹¦ç±&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       \t3.å½’è¿˜ä¹¦ç±&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       \t4.ä¿®æ”¹å¯†ç &quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       \t0.é€€å‡ºç™»å½•&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; judge1;</span><br><span class="line">		<span class="built_in">cin</span>.ignore();</span><br><span class="line">		<span class="keyword">switch</span> (judge1) &#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>: &#123;</span><br><span class="line">				booksearch();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;2&#x27;</span>: &#123;</span><br><span class="line">				borrow();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;3&#x27;</span>: &#123;</span><br><span class="line">				repay();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;6&#x27;</span>: &#123;</span><br><span class="line">				<span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//å­¦ç”Ÿå€Ÿä¹¦å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Students::borrow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	fstream writefile;</span><br><span class="line">	fstream readfile1;</span><br><span class="line">	<span class="comment">//è¯»å–books.dat</span></span><br><span class="line">	fstream readfile2;</span><br><span class="line">	<span class="comment">//è¯»å–books_copy.dat</span></span><br><span class="line">	book borrow;</span><br><span class="line">	book mid1;</span><br><span class="line">	<span class="comment">//è¯»å–æ–‡ä»¶ï¼Œéå†ç»“æ„ä½“ä¸­çš„ä¹¦ç±å</span></span><br><span class="line">	book mid2;</span><br><span class="line">	<span class="comment">//è¯»å–æ–‡ä»¶ï¼Œå­˜å‚¨éæ·»åŠ ä¹¦ç±çš„ç»“æ„ä½“</span></span><br><span class="line">	students add_ownbook;</span><br><span class="line">	<span class="comment">//åœ¨æ–‡ä»¶é‡Œæ·»åŠ å€Ÿé˜…ä¹¦ç±ä¿¡æ¯</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;; i++) &#123;</span><br><span class="line">		<span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­ä¹¦ç±æ˜¯å¦å·²å­˜åœ¨</span></span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥è¦å€Ÿé˜…çš„ä¹¦ç±å:\t&quot;</span>;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; borrow.book_name;</span><br><span class="line">		<span class="built_in">cin</span>.ignore();</span><br><span class="line">		readfile1.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">		<span class="keyword">while</span> (!readfile1.eof()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (!readfile1)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			readfile1.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;mid1, <span class="keyword">sizeof</span> mid1);</span><br><span class="line">			<span class="keyword">if</span> ((<span class="built_in">strcmp</span>(mid1.book_name, borrow.book_name) == <span class="number">0</span>) &amp;&amp; (mid1.book_num != <span class="number">0</span>)) &#123;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;é¦†å†…ç°æœ‰ã€Š&quot;</span> &lt;&lt; mid1.book_name &lt;&lt; <span class="string">&quot;ã€‹&quot;</span> &lt;&lt; mid1.book_num &lt;&lt; <span class="string">&quot;æœ¬&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				m = <span class="number">1</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;*****ä¹¦ç±ä¿¡æ¯*****\n&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±åç§°:\t&quot;</span> &lt;&lt; mid1.book_name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±ä½œè€…:\t&quot;</span> &lt;&lt; mid1.book_author &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±ä½ç½®:\t&quot;</span> &lt;&lt; mid1.book_location &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ˜¯å¦ç¡®å®šå€Ÿé˜…ï¼Ÿ(Y/N)&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="keyword">char</span> judge;</span><br><span class="line">				<span class="comment">//åˆ¤æ–­æ˜¯å¦ç¡®å®šå€Ÿé˜…</span></span><br><span class="line">				<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">					<span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">					<span class="comment">//åˆ¤æ–­ä»€ä¹ˆæ—¶å€™è·³å‡ºæ­¤whileå¾ªç¯</span></span><br><span class="line">					<span class="built_in">cin</span> &gt;&gt; judge;</span><br><span class="line">					<span class="built_in">cin</span>.ignore();</span><br><span class="line">					<span class="keyword">switch</span> (judge) &#123;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;Y&#x27;</span>: &#123;</span><br><span class="line">							n = <span class="number">1</span>;</span><br><span class="line">							fstream borrow_read;</span><br><span class="line">							fstream borrow_write;</span><br><span class="line">							borrow_read.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!borrow_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!borrow_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								borrow_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">								<span class="keyword">if</span> (add_ownbook.ID == student_ID) &#123;</span><br><span class="line">									<span class="built_in">strcpy</span>(add_ownbook.ownbook_name, borrow.book_name);</span><br><span class="line">									borrow_write.<span class="built_in">open</span>(<span class="string">&quot;students_info_copy.dat&quot;</span>, ios::out | ios::binary);</span><br><span class="line">									borrow_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">									borrow_write.<span class="built_in">close</span>();</span><br><span class="line">								&#125;</span><br><span class="line">							&#125;</span><br><span class="line">							borrow_read.<span class="built_in">close</span>();</span><br><span class="line">							borrow_read.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!borrow_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!borrow_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								borrow_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">								<span class="keyword">if</span> (add_ownbook.ID != student_ID) &#123;</span><br><span class="line">									borrow_write.<span class="built_in">open</span>(<span class="string">&quot;students_info_copy.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">									borrow_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">									borrow_write.<span class="built_in">close</span>();</span><br><span class="line">								&#125;</span><br><span class="line">							&#125;</span><br><span class="line">							borrow_read.<span class="built_in">close</span>();</span><br><span class="line">							borrow_read.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::out);</span><br><span class="line">							borrow_read.<span class="built_in">close</span>();</span><br><span class="line">							borrow_read.<span class="built_in">open</span>(<span class="string">&quot;students_info_copy.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!borrow_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!borrow_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								borrow_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">								borrow_write.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">								borrow_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">								borrow_write.<span class="built_in">close</span>();</span><br><span class="line">							&#125;</span><br><span class="line">							borrow_read.<span class="built_in">close</span>();</span><br><span class="line">							mid1.book_num--;</span><br><span class="line">							writefile.<span class="built_in">open</span>(<span class="string">&quot;books_copy.dat&quot;</span>, ios::out | ios::binary);</span><br><span class="line">							writefile.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;mid1, <span class="keyword">sizeof</span> mid1);</span><br><span class="line">							writefile.<span class="built_in">clear</span>();</span><br><span class="line">							writefile.<span class="built_in">close</span>();</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;y&#x27;</span>: &#123;</span><br><span class="line">							n = <span class="number">1</span>;</span><br><span class="line">							fstream borrow_read;</span><br><span class="line">							fstream borrow_write;</span><br><span class="line">							borrow_read.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!borrow_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!borrow_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								borrow_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">								<span class="keyword">if</span> (add_ownbook.ID == student_ID) &#123;</span><br><span class="line">									<span class="built_in">strcpy</span>(add_ownbook.ownbook_name, borrow.book_name);</span><br><span class="line">									borrow_write.<span class="built_in">open</span>(<span class="string">&quot;students_info_copy.dat&quot;</span>, ios::out | ios::binary);</span><br><span class="line">									borrow_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">									borrow_write.<span class="built_in">close</span>();</span><br><span class="line">								&#125;</span><br><span class="line">							&#125;</span><br><span class="line">							borrow_read.<span class="built_in">close</span>();</span><br><span class="line">							borrow_read.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!borrow_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!borrow_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								borrow_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">								<span class="keyword">if</span> (add_ownbook.ID != student_ID) &#123;</span><br><span class="line">									borrow_write.<span class="built_in">open</span>(<span class="string">&quot;students_info_copy.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">									borrow_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">									borrow_write.<span class="built_in">close</span>();</span><br><span class="line">								&#125;</span><br><span class="line">							&#125;</span><br><span class="line">							borrow_read.<span class="built_in">close</span>();</span><br><span class="line">							borrow_read.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::out);</span><br><span class="line">							borrow_read.<span class="built_in">close</span>();</span><br><span class="line">							borrow_read.<span class="built_in">open</span>(<span class="string">&quot;students_info_copy.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!borrow_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!borrow_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								borrow_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">								borrow_write.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">								borrow_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">								borrow_write.<span class="built_in">close</span>();</span><br><span class="line">							&#125;</span><br><span class="line">							borrow_read.<span class="built_in">close</span>();</span><br><span class="line">							mid1.book_num--;</span><br><span class="line">							writefile.<span class="built_in">open</span>(<span class="string">&quot;books_copy.dat&quot;</span>, ios::out | ios::binary);</span><br><span class="line">							writefile.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;mid1, <span class="keyword">sizeof</span> mid1);</span><br><span class="line">							writefile.<span class="built_in">clear</span>();</span><br><span class="line">							writefile.<span class="built_in">close</span>();</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;N&#x27;</span>: &#123;</span><br><span class="line">							n = <span class="number">1</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;n&#x27;</span>: &#123;</span><br><span class="line">							n = <span class="number">1</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">default</span>: &#123;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ— æ•ˆå­—ç¬¦! è¯·é‡æ–°è¾“å…¥:\t&quot;</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		readfile1.<span class="built_in">close</span>();</span><br><span class="line">		<span class="comment">//*****æ³¨æ„å…³é—­æ–‡ä»¶ï¼æœªå…³é—­æ–‡ä»¶æ—¶æŒ‡é’ˆä¸€ç›´åœ¨æ–‡ä»¶ç»“å°¾*****</span></span><br><span class="line">		<span class="keyword">if</span> (m == <span class="number">1</span>) &#123;</span><br><span class="line">			readfile1.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">			<span class="keyword">while</span> (!readfile1.eof()) &#123;</span><br><span class="line">				<span class="keyword">if</span> (!readfile1)</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				readfile1.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">strcmp</span>(mid2.book_name, borrow.book_name)) &#123;</span><br><span class="line">					writefile.<span class="built_in">open</span>(<span class="string">&quot;books_copy.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">					writefile.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">					writefile.<span class="built_in">clear</span>();</span><br><span class="line">					writefile.<span class="built_in">close</span>();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			readfile1.<span class="built_in">close</span>();</span><br><span class="line">			readfile1.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::out);</span><br><span class="line">			readfile1.<span class="built_in">close</span>();</span><br><span class="line">			readfile2.<span class="built_in">open</span>(<span class="string">&quot;books_copy.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">			<span class="keyword">while</span> (!readfile2.eof()) &#123;</span><br><span class="line">				<span class="keyword">if</span> (!readfile2)</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				readfile2.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">				writefile.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">				writefile.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">				writefile.<span class="built_in">clear</span>();</span><br><span class="line">				writefile.<span class="built_in">close</span>();</span><br><span class="line">			&#125;</span><br><span class="line">			readfile2.<span class="built_in">close</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (m == <span class="number">0</span>) &#123;	<span class="comment">//é¦†å†…æš‚æ— è¯¥ä¹¦ç±æ—¶</span></span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;é¦†å†…æš‚æ— ã€Š&quot;</span> &lt;&lt; borrow.book_name &lt;&lt; <span class="string">&quot;ã€‹&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ˜¯å¦è¦ç»§ç»­å€Ÿé˜…(Y/N):\t&quot;</span>;</span><br><span class="line">		<span class="keyword">char</span> judge1;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­æ˜¯å¦è¿›è¡Œä¸‹ä¸€æ¬¡æ·»åŠ </span></span><br><span class="line">		<span class="keyword">int</span> judge2 = <span class="number">1</span>;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­è¾“å…¥å­—ç¬¦æœ‰æ•ˆæ€§</span></span><br><span class="line">		<span class="keyword">while</span> (judge2) &#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; judge1;</span><br><span class="line">			<span class="built_in">cin</span>.ignore();</span><br><span class="line">			<span class="keyword">if</span> (judge1 == <span class="string">&#x27;Y&#x27;</span> || judge1 == <span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">				judge2 = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (judge1 == <span class="string">&#x27;N&#x27;</span> || judge1 == <span class="string">&#x27;n&#x27;</span>)</span><br><span class="line">				judge2 = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥:\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (judge1 == <span class="string">&#x27;Y&#x27;</span> || judge1 == <span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (judge1 == <span class="string">&#x27;N&#x27;</span> || judge1 == <span class="string">&#x27;n&#x27;</span>)</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//æ•™å¸ˆå€Ÿä¹¦å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Teachers::borrow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	fstream writefile;</span><br><span class="line">	fstream readfile1;</span><br><span class="line">	<span class="comment">//è¯»å–books.dat</span></span><br><span class="line">	fstream readfile2;</span><br><span class="line">	<span class="comment">//è¯»å–books_copy.dat</span></span><br><span class="line">	book borrow;</span><br><span class="line">	book mid1;</span><br><span class="line">	<span class="comment">//è¯»å–æ–‡ä»¶ï¼Œéå†ç»“æ„ä½“ä¸­çš„ä¹¦ç±å</span></span><br><span class="line">	book mid2;</span><br><span class="line">	<span class="comment">//è¯»å–æ–‡ä»¶ï¼Œå­˜å‚¨éæ·»åŠ ä¹¦ç±çš„ç»“æ„ä½“</span></span><br><span class="line">	teachers add_ownbook;</span><br><span class="line">	<span class="comment">//åœ¨æ–‡ä»¶é‡Œæ·»åŠ å€Ÿé˜…ä¹¦ç±ä¿¡æ¯</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;; i++) &#123;</span><br><span class="line">		<span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­ä¹¦ç±æ˜¯å¦å·²å­˜åœ¨</span></span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥è¦å€Ÿé˜…çš„ä¹¦ç±å:\t&quot;</span>;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; borrow.book_name;</span><br><span class="line">		<span class="built_in">cin</span>.ignore();</span><br><span class="line">		readfile1.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">		<span class="keyword">while</span> (!readfile1.eof()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (!readfile1)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			readfile1.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;mid1, <span class="keyword">sizeof</span> mid1);</span><br><span class="line">			<span class="keyword">if</span> ((<span class="built_in">strcmp</span>(mid1.book_name, borrow.book_name) == <span class="number">0</span>) &amp;&amp; (mid1.book_num != <span class="number">0</span>)) &#123;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;é¦†å†…ç°æœ‰ã€Š&quot;</span> &lt;&lt; mid1.book_name &lt;&lt; <span class="string">&quot;ã€‹&quot;</span> &lt;&lt; mid1.book_num &lt;&lt; <span class="string">&quot;æœ¬&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				m = <span class="number">1</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;*****ä¹¦ç±ä¿¡æ¯*****\n&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±åç§°:\t&quot;</span> &lt;&lt; mid1.book_name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±ä½œè€…:\t&quot;</span> &lt;&lt; mid1.book_author &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±ä½ç½®:\t&quot;</span> &lt;&lt; mid1.book_location &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ˜¯å¦ç¡®å®šå€Ÿé˜…ï¼Ÿ(Y/N)&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="keyword">char</span> judge;</span><br><span class="line">				<span class="comment">//åˆ¤æ–­æ˜¯å¦ç¡®å®šå€Ÿé˜…</span></span><br><span class="line">				<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">					<span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">					<span class="comment">//åˆ¤æ–­ä»€ä¹ˆæ—¶å€™è·³å‡ºæ­¤whileå¾ªç¯</span></span><br><span class="line">					<span class="built_in">cin</span> &gt;&gt; judge;</span><br><span class="line">					<span class="built_in">cin</span>.ignore();</span><br><span class="line">					<span class="keyword">switch</span> (judge) &#123;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;Y&#x27;</span>: &#123;</span><br><span class="line">							n = <span class="number">1</span>;</span><br><span class="line">							fstream borrow_read;</span><br><span class="line">							fstream borrow_write;</span><br><span class="line">							borrow_read.<span class="built_in">open</span>(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!borrow_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!borrow_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								borrow_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">								<span class="keyword">if</span> (add_ownbook.ID == teacher_ID) &#123;</span><br><span class="line">									<span class="built_in">strcpy</span>(add_ownbook.ownbook_name, borrow.book_name);</span><br><span class="line">									borrow_write.<span class="built_in">open</span>(<span class="string">&quot;teachers_info_copy.dat&quot;</span>, ios::out | ios::binary);</span><br><span class="line">									borrow_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">									borrow_write.<span class="built_in">close</span>();</span><br><span class="line">								&#125;</span><br><span class="line">							&#125;</span><br><span class="line">							borrow_read.<span class="built_in">close</span>();</span><br><span class="line">							borrow_read.<span class="built_in">open</span>(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!borrow_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!borrow_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								borrow_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">								<span class="keyword">if</span> (add_ownbook.ID != teacher_ID) &#123;</span><br><span class="line">									borrow_write.<span class="built_in">open</span>(<span class="string">&quot;teachers_info_copy.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">									borrow_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">									borrow_write.<span class="built_in">close</span>();</span><br><span class="line">								&#125;</span><br><span class="line">							&#125;</span><br><span class="line">							borrow_read.<span class="built_in">close</span>();</span><br><span class="line">							borrow_read.<span class="built_in">open</span>(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::out);</span><br><span class="line">							borrow_read.<span class="built_in">close</span>();</span><br><span class="line">							borrow_read.<span class="built_in">open</span>(<span class="string">&quot;teachers_info_copy.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!borrow_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!borrow_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								borrow_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">								borrow_write.<span class="built_in">open</span>(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">								borrow_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;add_ownbook, <span class="keyword">sizeof</span> add_ownbook);</span><br><span class="line">								borrow_write.<span class="built_in">close</span>();</span><br><span class="line">							&#125;</span><br><span class="line">							borrow_read.<span class="built_in">close</span>();</span><br><span class="line">							mid1.book_num--;</span><br><span class="line">							writefile.<span class="built_in">open</span>(<span class="string">&quot;books_copy.dat&quot;</span>, ios::out | ios::binary);</span><br><span class="line">							writefile.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;mid1, <span class="keyword">sizeof</span> mid1);</span><br><span class="line">							writefile.<span class="built_in">clear</span>();</span><br><span class="line">							writefile.<span class="built_in">close</span>();</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;y&#x27;</span>: &#123;</span><br><span class="line"></span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;N&#x27;</span>: &#123;</span><br><span class="line">							n = <span class="number">1</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;n&#x27;</span>: &#123;</span><br><span class="line">							n = <span class="number">1</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">default</span>: &#123;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ— æ•ˆå­—ç¬¦! è¯·é‡æ–°è¾“å…¥:\t&quot;</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		readfile1.<span class="built_in">close</span>();</span><br><span class="line">		<span class="comment">//*****æ³¨æ„å…³é—­æ–‡ä»¶ï¼æœªå…³é—­æ–‡ä»¶æ—¶æŒ‡é’ˆä¸€ç›´åœ¨æ–‡ä»¶ç»“å°¾*****</span></span><br><span class="line">		<span class="keyword">if</span> (m == <span class="number">1</span>) &#123;</span><br><span class="line">			readfile1.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">			<span class="keyword">while</span> (!readfile1.eof()) &#123;</span><br><span class="line">				<span class="keyword">if</span> (!readfile1)</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				readfile1.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">strcmp</span>(mid2.book_name, borrow.book_name)) &#123;</span><br><span class="line">					writefile.<span class="built_in">open</span>(<span class="string">&quot;books_copy.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">					writefile.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">					writefile.<span class="built_in">clear</span>();</span><br><span class="line">					writefile.<span class="built_in">close</span>();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			readfile1.<span class="built_in">close</span>();</span><br><span class="line">			readfile1.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::out);</span><br><span class="line">			readfile1.<span class="built_in">close</span>();</span><br><span class="line">			readfile2.<span class="built_in">open</span>(<span class="string">&quot;books_copy.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">			<span class="keyword">while</span> (!readfile2.eof()) &#123;</span><br><span class="line">				<span class="keyword">if</span> (!readfile2)</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				readfile2.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">				writefile.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">				writefile.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">				writefile.<span class="built_in">clear</span>();</span><br><span class="line">				writefile.<span class="built_in">close</span>();</span><br><span class="line">			&#125;</span><br><span class="line">			readfile2.<span class="built_in">close</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (m == <span class="number">0</span>) &#123;	<span class="comment">//é¦†å†…æš‚æ— è¯¥ä¹¦ç±æ—¶</span></span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;é¦†å†…æš‚æ— ã€Š&quot;</span> &lt;&lt; borrow.book_name &lt;&lt; <span class="string">&quot;ã€‹&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ˜¯å¦è¦ç»§ç»­å€Ÿé˜…(Y/N):\t&quot;</span>;</span><br><span class="line">		<span class="keyword">char</span> judge1;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­æ˜¯å¦è¿›è¡Œä¸‹ä¸€æ¬¡æ·»åŠ </span></span><br><span class="line">		<span class="keyword">int</span> judge2 = <span class="number">1</span>;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­è¾“å…¥å­—ç¬¦æœ‰æ•ˆæ€§</span></span><br><span class="line">		<span class="keyword">while</span> (judge2) &#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; judge1;</span><br><span class="line">			<span class="built_in">cin</span>.ignore();</span><br><span class="line">			<span class="keyword">if</span> (judge1 == <span class="string">&#x27;Y&#x27;</span> || judge1 == <span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">				judge2 = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (judge1 == <span class="string">&#x27;N&#x27;</span> || judge1 == <span class="string">&#x27;n&#x27;</span>)</span><br><span class="line">				judge2 = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥:\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (judge1 == <span class="string">&#x27;Y&#x27;</span> || judge1 == <span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (judge1 == <span class="string">&#x27;N&#x27;</span> || judge1 == <span class="string">&#x27;n&#x27;</span>)</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//å­¦ç”Ÿè¿˜ä¹¦</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Students::repay</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	fstream readfile1;</span><br><span class="line">	fstream readfile2;</span><br><span class="line">	fstream writefile;</span><br><span class="line">	book reply;</span><br><span class="line">	book mid1;</span><br><span class="line">	book mid2;</span><br><span class="line">	students del_ownbook;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;; i++) &#123;</span><br><span class="line">		<span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­ä¹¦ç±æ˜¯å¦å·²å­˜åœ¨</span></span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥è¦å½’è¿˜çš„ä¹¦ç±å:\t&quot;</span>;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; reply.book_name;</span><br><span class="line">		<span class="built_in">cin</span>.ignore();</span><br><span class="line">		readfile1.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">		<span class="keyword">while</span> (!readfile1.eof()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (!readfile1)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			readfile1.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;mid1, <span class="keyword">sizeof</span> mid1);</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">strcmp</span>(mid1.book_name, reply.book_name) == <span class="number">0</span>) &#123;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;é¦†å†…ç°æœ‰ã€Š&quot;</span> &lt;&lt; mid1.book_name &lt;&lt; <span class="string">&quot;ã€‹&quot;</span> &lt;&lt; mid1.book_num &lt;&lt; <span class="string">&quot;æœ¬&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				m = <span class="number">1</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;*****ä¹¦ç±ä¿¡æ¯*****\n&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±åç§°:\t&quot;</span> &lt;&lt; mid1.book_name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±ä½œè€…:\t&quot;</span> &lt;&lt; mid1.book_author &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±ä½ç½®:\t&quot;</span> &lt;&lt; mid1.book_location &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ˜¯å¦ç¡®å®šå½’è¿˜ï¼Ÿ(Y/N)&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="keyword">char</span> judge;</span><br><span class="line">				<span class="comment">//åˆ¤æ–­æ˜¯å¦ç¡®å®šå½’è¿˜</span></span><br><span class="line">				<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">					<span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">					<span class="comment">//åˆ¤æ–­ä»€ä¹ˆæ—¶å€™è·³å‡ºæ­¤whileå¾ªç¯</span></span><br><span class="line">					<span class="built_in">cin</span> &gt;&gt; judge;</span><br><span class="line">					<span class="built_in">cin</span>.ignore();</span><br><span class="line">					<span class="keyword">switch</span> (judge) &#123;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;Y&#x27;</span>: &#123;</span><br><span class="line">							n = <span class="number">1</span>;</span><br><span class="line">							fstream reply_read;</span><br><span class="line">							fstream reply_write;</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!reply_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!reply_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								reply_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								<span class="keyword">if</span> (del_ownbook.ID == student_ID) &#123;</span><br><span class="line">									<span class="built_in">strcpy</span>(del_ownbook.ownbook_name, <span class="string">&quot;No Book&quot;</span>);</span><br><span class="line">									reply_write.<span class="built_in">open</span>(<span class="string">&quot;students_info_copy.dat&quot;</span>, ios::out | ios::binary);</span><br><span class="line">									reply_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">									reply_write.<span class="built_in">close</span>();</span><br><span class="line">								&#125;</span><br><span class="line">							&#125;</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!reply_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!reply_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								reply_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								<span class="keyword">if</span> (del_ownbook.ID != student_ID) &#123;</span><br><span class="line">									reply_write.<span class="built_in">open</span>(<span class="string">&quot;students_info_copy.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">									reply_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">									reply_write.<span class="built_in">close</span>();</span><br><span class="line">								&#125;</span><br><span class="line">							&#125;</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::out);</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;students_info_copy.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!reply_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!reply_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								reply_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								reply_write.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">								reply_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								reply_write.<span class="built_in">close</span>();</span><br><span class="line">							&#125;</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							mid1.book_num++;</span><br><span class="line">							writefile.<span class="built_in">open</span>(<span class="string">&quot;books_copy.dat&quot;</span>, ios::out | ios::binary);</span><br><span class="line">							writefile.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;mid1, <span class="keyword">sizeof</span> mid1);</span><br><span class="line">							writefile.<span class="built_in">clear</span>();</span><br><span class="line">							writefile.<span class="built_in">close</span>();</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;y&#x27;</span>: &#123;</span><br><span class="line">							n = <span class="number">1</span>;</span><br><span class="line">							fstream reply_read;</span><br><span class="line">							fstream reply_write;</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!reply_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!reply_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								reply_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								<span class="keyword">if</span> (del_ownbook.ID == student_ID) &#123;</span><br><span class="line">									<span class="built_in">strcpy</span>(del_ownbook.ownbook_name, <span class="string">&quot;No Book&quot;</span>);</span><br><span class="line">									reply_write.<span class="built_in">open</span>(<span class="string">&quot;students_info_copy.dat&quot;</span>, ios::out | ios::binary);</span><br><span class="line">									reply_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">									reply_write.<span class="built_in">close</span>();</span><br><span class="line">								&#125;</span><br><span class="line">							&#125;</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!reply_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!reply_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								reply_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								<span class="keyword">if</span> (del_ownbook.ID != student_ID) &#123;</span><br><span class="line">									reply_write.<span class="built_in">open</span>(<span class="string">&quot;students_info_copy.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">									reply_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">									reply_write.<span class="built_in">close</span>();</span><br><span class="line">								&#125;</span><br><span class="line">							&#125;</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::out);</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;students_info_copy.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!reply_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!reply_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								reply_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								reply_write.<span class="built_in">open</span>(<span class="string">&quot;students_info.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">								reply_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								reply_write.<span class="built_in">close</span>();</span><br><span class="line">							&#125;</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							mid1.book_num++;</span><br><span class="line">							writefile.<span class="built_in">open</span>(<span class="string">&quot;books_copy.dat&quot;</span>, ios::out | ios::binary);</span><br><span class="line">							writefile.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;mid1, <span class="keyword">sizeof</span> mid1);</span><br><span class="line">							writefile.<span class="built_in">clear</span>();</span><br><span class="line">							writefile.<span class="built_in">close</span>();</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;N&#x27;</span>: &#123;</span><br><span class="line">							n = <span class="number">1</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;n&#x27;</span>: &#123;</span><br><span class="line">							n = <span class="number">1</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">default</span>: &#123;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ— æ•ˆå­—ç¬¦! è¯·é‡æ–°è¾“å…¥:\t&quot;</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		readfile1.<span class="built_in">close</span>();</span><br><span class="line">		<span class="comment">//*****æ³¨æ„å…³é—­æ–‡ä»¶ï¼æœªå…³é—­æ–‡ä»¶æ—¶æŒ‡é’ˆä¸€ç›´åœ¨æ–‡ä»¶ç»“å°¾*****</span></span><br><span class="line">		<span class="keyword">if</span> (m == <span class="number">1</span>) &#123;</span><br><span class="line">			readfile1.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">			<span class="keyword">while</span> (!readfile1.eof()) &#123;</span><br><span class="line">				<span class="keyword">if</span> (!readfile1)</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				readfile1.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">strcmp</span>(mid2.book_name, reply.book_name)) &#123;</span><br><span class="line">					writefile.<span class="built_in">open</span>(<span class="string">&quot;books_copy.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">					writefile.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">					writefile.<span class="built_in">clear</span>();</span><br><span class="line">					writefile.<span class="built_in">close</span>();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			readfile1.<span class="built_in">close</span>();</span><br><span class="line">			readfile1.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::out);</span><br><span class="line">			readfile1.<span class="built_in">close</span>();</span><br><span class="line">			readfile2.<span class="built_in">open</span>(<span class="string">&quot;books_copy.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">			<span class="keyword">while</span> (!readfile2.eof()) &#123;</span><br><span class="line">				<span class="keyword">if</span> (!readfile2)</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				readfile2.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">				writefile.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">				writefile.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">				writefile.<span class="built_in">clear</span>();</span><br><span class="line">				writefile.<span class="built_in">close</span>();</span><br><span class="line">			&#125;</span><br><span class="line">			readfile2.<span class="built_in">close</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ˜¯å¦è¦ç»§ç»­å½’è¿˜(Y/N):\t&quot;</span>;</span><br><span class="line">		<span class="keyword">char</span> judge1;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­æ˜¯å¦è¿›è¡Œä¸‹ä¸€æ¬¡æ·»åŠ </span></span><br><span class="line">		<span class="keyword">int</span> judge2 = <span class="number">1</span>;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­è¾“å…¥å­—ç¬¦æœ‰æ•ˆæ€§</span></span><br><span class="line">		<span class="keyword">while</span> (judge2) &#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; judge1;</span><br><span class="line">			<span class="built_in">cin</span>.ignore();</span><br><span class="line">			<span class="keyword">if</span> (judge1 == <span class="string">&#x27;Y&#x27;</span> || judge1 == <span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">				judge2 = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (judge1 == <span class="string">&#x27;N&#x27;</span> || judge1 == <span class="string">&#x27;n&#x27;</span>)</span><br><span class="line">				judge2 = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥:\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (judge1 == <span class="string">&#x27;Y&#x27;</span> || judge1 == <span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (judge1 == <span class="string">&#x27;N&#x27;</span> || judge1 == <span class="string">&#x27;n&#x27;</span>)</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//æ•™å¸ˆè¿˜ä¹¦</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Teachers::repay</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	fstream readfile1;</span><br><span class="line">	fstream readfile2;</span><br><span class="line">	fstream writefile;</span><br><span class="line">	book reply;</span><br><span class="line">	book mid1;</span><br><span class="line">	book mid2;</span><br><span class="line">	teachers del_ownbook;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;; i++) &#123;</span><br><span class="line">		<span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­ä¹¦ç±æ˜¯å¦å·²å­˜åœ¨</span></span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥è¦å½’è¿˜çš„ä¹¦ç±å:\t&quot;</span>;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; reply.book_name;</span><br><span class="line">		<span class="built_in">cin</span>.ignore();</span><br><span class="line">		readfile1.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">		<span class="keyword">while</span> (!readfile1.eof()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (!readfile1)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			readfile1.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;mid1, <span class="keyword">sizeof</span> mid1);</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">strcmp</span>(mid1.book_name, reply.book_name) == <span class="number">0</span>) &#123;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;é¦†å†…ç°æœ‰ã€Š&quot;</span> &lt;&lt; mid1.book_name &lt;&lt; <span class="string">&quot;ã€‹&quot;</span> &lt;&lt; mid1.book_num &lt;&lt; <span class="string">&quot;æœ¬&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				m = <span class="number">1</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;*****ä¹¦ç±ä¿¡æ¯*****\n&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±åç§°:\t&quot;</span> &lt;&lt; mid1.book_name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±ä½œè€…:\t&quot;</span> &lt;&lt; mid1.book_author &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±ä½ç½®:\t&quot;</span> &lt;&lt; mid1.book_location &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ˜¯å¦ç¡®å®šå½’è¿˜ï¼Ÿ(Y/N)&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="keyword">char</span> judge;</span><br><span class="line">				<span class="comment">//åˆ¤æ–­æ˜¯å¦ç¡®å®šå½’è¿˜</span></span><br><span class="line">				<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">					<span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">					<span class="comment">//åˆ¤æ–­ä»€ä¹ˆæ—¶å€™è·³å‡ºæ­¤whileå¾ªç¯</span></span><br><span class="line">					<span class="built_in">cin</span> &gt;&gt; judge;</span><br><span class="line">					<span class="built_in">cin</span>.ignore();</span><br><span class="line">					<span class="keyword">switch</span> (judge) &#123;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;Y&#x27;</span>: &#123;</span><br><span class="line">							n = <span class="number">1</span>;</span><br><span class="line">							fstream reply_read;</span><br><span class="line">							fstream reply_write;</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!reply_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!reply_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								reply_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								<span class="keyword">if</span> (del_ownbook.ID == teacher_ID) &#123;</span><br><span class="line">									<span class="built_in">strcpy</span>(del_ownbook.ownbook_name, <span class="string">&quot;No Book&quot;</span>);</span><br><span class="line">									reply_write.<span class="built_in">open</span>(<span class="string">&quot;teachers_info_copy.dat&quot;</span>, ios::out | ios::binary);</span><br><span class="line">									reply_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">									reply_write.<span class="built_in">close</span>();</span><br><span class="line">								&#125;</span><br><span class="line">							&#125;</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!reply_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!reply_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								reply_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								<span class="keyword">if</span> (del_ownbook.ID != teacher_ID) &#123;</span><br><span class="line">									reply_write.<span class="built_in">open</span>(<span class="string">&quot;teachers_info_copy.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">									reply_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">									reply_write.<span class="built_in">close</span>();</span><br><span class="line">								&#125;</span><br><span class="line">							&#125;</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::out);</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;teachers_info_copy.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!reply_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!reply_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								reply_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								reply_write.<span class="built_in">open</span>(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">								reply_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								reply_write.<span class="built_in">close</span>();</span><br><span class="line">							&#125;</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							mid1.book_num++;</span><br><span class="line">							writefile.<span class="built_in">open</span>(<span class="string">&quot;books_copy.dat&quot;</span>, ios::out | ios::binary);</span><br><span class="line">							writefile.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;mid1, <span class="keyword">sizeof</span> mid1);</span><br><span class="line">							writefile.<span class="built_in">clear</span>();</span><br><span class="line">							writefile.<span class="built_in">close</span>();</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;y&#x27;</span>: &#123;</span><br><span class="line">							n = <span class="number">1</span>;</span><br><span class="line">							fstream reply_read;</span><br><span class="line">							fstream reply_write;</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!reply_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!reply_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								reply_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								<span class="keyword">if</span> (del_ownbook.ID == teacher_ID) &#123;</span><br><span class="line">									<span class="built_in">strcpy</span>(del_ownbook.ownbook_name, <span class="string">&quot;No Book&quot;</span>);</span><br><span class="line">									reply_write.<span class="built_in">open</span>(<span class="string">&quot;teachers_info_copy.dat&quot;</span>, ios::out | ios::binary);</span><br><span class="line">									reply_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">									reply_write.<span class="built_in">close</span>();</span><br><span class="line">								&#125;</span><br><span class="line">							&#125;</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!reply_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!reply_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								reply_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								<span class="keyword">if</span> (del_ownbook.ID != teacher_ID) &#123;</span><br><span class="line">									reply_write.<span class="built_in">open</span>(<span class="string">&quot;teachers_info_copy.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">									reply_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">									reply_write.<span class="built_in">close</span>();</span><br><span class="line">								&#125;</span><br><span class="line">							&#125;</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::out);</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							reply_read.<span class="built_in">open</span>(<span class="string">&quot;teachers_info_copy.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">							<span class="keyword">while</span> (!reply_read.eof()) &#123;</span><br><span class="line">								<span class="keyword">if</span> (!reply_read)</span><br><span class="line">									<span class="keyword">break</span>;</span><br><span class="line">								reply_read.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								reply_write.<span class="built_in">open</span>(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">								reply_write.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;del_ownbook, <span class="keyword">sizeof</span> del_ownbook);</span><br><span class="line">								reply_write.<span class="built_in">close</span>();</span><br><span class="line">							&#125;</span><br><span class="line">							reply_read.<span class="built_in">close</span>();</span><br><span class="line">							mid1.book_num++;</span><br><span class="line">							writefile.<span class="built_in">open</span>(<span class="string">&quot;books_copy.dat&quot;</span>, ios::out | ios::binary);</span><br><span class="line">							writefile.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;mid1, <span class="keyword">sizeof</span> mid1);</span><br><span class="line">							writefile.<span class="built_in">clear</span>();</span><br><span class="line">							writefile.<span class="built_in">close</span>();</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;N&#x27;</span>: &#123;</span><br><span class="line">							n = <span class="number">1</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">case</span> <span class="string">&#x27;n&#x27;</span>: &#123;</span><br><span class="line">							n = <span class="number">1</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">default</span>: &#123;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ— æ•ˆå­—ç¬¦! è¯·é‡æ–°è¾“å…¥:\t&quot;</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		readfile1.<span class="built_in">close</span>();</span><br><span class="line">		<span class="comment">//*****æ³¨æ„å…³é—­æ–‡ä»¶ï¼æœªå…³é—­æ–‡ä»¶æ—¶æŒ‡é’ˆä¸€ç›´åœ¨æ–‡ä»¶ç»“å°¾*****</span></span><br><span class="line">		<span class="keyword">if</span> (m == <span class="number">1</span>) &#123;</span><br><span class="line">			readfile1.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">			<span class="keyword">while</span> (!readfile1.eof()) &#123;</span><br><span class="line">				<span class="keyword">if</span> (!readfile1)</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				readfile1.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">strcmp</span>(mid2.book_name, reply.book_name)) &#123;</span><br><span class="line">					writefile.<span class="built_in">open</span>(<span class="string">&quot;books_copy.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">					writefile.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">					writefile.<span class="built_in">clear</span>();</span><br><span class="line">					writefile.<span class="built_in">close</span>();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			readfile1.<span class="built_in">close</span>();</span><br><span class="line">			readfile1.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::out);</span><br><span class="line">			readfile1.<span class="built_in">close</span>();</span><br><span class="line">			readfile2.<span class="built_in">open</span>(<span class="string">&quot;books_copy.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">			<span class="keyword">while</span> (!readfile2.eof()) &#123;</span><br><span class="line">				<span class="keyword">if</span> (!readfile2)</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				readfile2.<span class="built_in">read</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">				writefile.<span class="built_in">open</span>(<span class="string">&quot;books.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">				writefile.<span class="built_in">write</span>((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">				writefile.<span class="built_in">clear</span>();</span><br><span class="line">				writefile.<span class="built_in">close</span>();</span><br><span class="line">			&#125;</span><br><span class="line">			readfile2.<span class="built_in">close</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ˜¯å¦è¦ç»§ç»­å½’è¿˜(Y/N):\t&quot;</span>;</span><br><span class="line">		<span class="keyword">char</span> judge1;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­æ˜¯å¦è¿›è¡Œä¸‹ä¸€æ¬¡æ·»åŠ </span></span><br><span class="line">		<span class="keyword">int</span> judge2 = <span class="number">1</span>;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­è¾“å…¥å­—ç¬¦æœ‰æ•ˆæ€§</span></span><br><span class="line">		<span class="keyword">while</span> (judge2) &#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; judge1;</span><br><span class="line">			<span class="built_in">cin</span>.ignore();</span><br><span class="line">			<span class="keyword">if</span> (judge1 == <span class="string">&#x27;Y&#x27;</span> || judge1 == <span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">				judge2 = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (judge1 == <span class="string">&#x27;N&#x27;</span> || judge1 == <span class="string">&#x27;n&#x27;</span>)</span><br><span class="line">				judge2 = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥:\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (judge1 == <span class="string">&#x27;Y&#x27;</span> || judge1 == <span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (judge1 == <span class="string">&#x27;N&#x27;</span> || judge1 == <span class="string">&#x27;n&#x27;</span>)</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="manage-h"><a href="#manage-h" class="headerlink" title="manage.h"></a>manage.h</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> MANAGE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MANAGE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;struct.h&quot;</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Manage</span> &#123;</span></span><br><span class="line">	<span class="keyword">protected</span>:</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		~Manage() &#123;&#125;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">addbook</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">login</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">searchperson</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Admins</span>:</span> <span class="keyword">public</span> Manage &#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="keyword">char</span> *admin_name;</span><br><span class="line">		<span class="keyword">char</span> *admin_password;</span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> admin_ID;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		Admins() &#123;&#125;</span><br><span class="line">		~Admins() &#123;</span><br><span class="line">			<span class="keyword">delete</span> []admin_name;</span><br><span class="line">			<span class="keyword">delete</span> []admin_password;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">choose</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Directors</span>:</span> <span class="keyword">public</span> Manage &#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">addadmin</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">deladmin</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">changeID</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">changepassword</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="function"><span class="keyword">void</span> <span class="title">choose</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<h2 id="manage-cpp"><a href="#manage-cpp" class="headerlink" title="manage.cpp"></a>manage.cpp</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;manage.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;basic.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//ç®¡ç†è€…ç™»å½•</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Manage::login</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	Admins admin;</span><br><span class="line">	Directors director;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;*********************************è¯·ç™»å½•*********************************&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥ID:\t&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span> director_ID[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">char</span> manage_password[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; director_ID;</span><br><span class="line">		<span class="built_in">cin</span>.ignore();</span><br><span class="line">		fstream read;</span><br><span class="line">		directors d_login;</span><br><span class="line">		admins a_login;</span><br><span class="line">		read.open(<span class="string">&quot;director_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">		<span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­ç”¨æˆ·åæ˜¯å¦ä¸ºé¦†é•¿ID</span></span><br><span class="line">		<span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­é¦†é•¿æ˜¯å¦ç™»å½•æˆåŠŸ</span></span><br><span class="line">		<span class="keyword">int</span> o = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­ç”¨æˆ·åIDæ˜¯å¦ä¸ºç®¡ç†å‘˜ID</span></span><br><span class="line">		<span class="keyword">while</span> (!read.eof()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (!read)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			read.read((<span class="keyword">char</span> *)&amp;d_login, <span class="keyword">sizeof</span> d_login);</span><br><span class="line">			<span class="keyword">if</span> (!<span class="built_in">strcmp</span>(director_ID, d_login.ID)) &#123;</span><br><span class="line">				m = <span class="number">1</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥é¦†é•¿å¯†ç :\t&quot;</span>;</span><br><span class="line">				<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">					<span class="built_in">cin</span> &gt;&gt; manage_password;</span><br><span class="line">					<span class="built_in">cin</span>.ignore();</span><br><span class="line">					<span class="keyword">if</span> (!<span class="built_in">strcmp</span>(manage_password, d_login.password)) &#123;</span><br><span class="line">						n = <span class="number">1</span>;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\n********************************ç™»å½•æˆåŠŸ********************************&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;é¦†é•¿æ‚¨å¥½!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						director.choose();</span><br><span class="line">						<span class="keyword">break</span>;</span><br><span class="line">					&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;é¦†é•¿å¯†ç é”™è¯¯! è¯·é‡æ–°è¾“å…¥:\t&quot;</span>;</span><br><span class="line">						<span class="keyword">continue</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (m == <span class="number">0</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		read.close();</span><br><span class="line">		<span class="keyword">if</span> (m == <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">long</span> <span class="keyword">long</span> admin_ID = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="built_in">strlen</span>(director_ID); j++) &#123;</span><br><span class="line">				admin_ID = admin_ID + ((<span class="keyword">int</span>)director_ID[j] - <span class="number">48</span>) * <span class="built_in">pow</span>(<span class="number">10</span>, <span class="built_in">strlen</span>(director_ID) - j - <span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			read.open(<span class="string">&quot;admins_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">			<span class="keyword">while</span> (!read.eof()) &#123;</span><br><span class="line">				<span class="keyword">if</span> (!read)</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				read.read((<span class="keyword">char</span> *)&amp;a_login, <span class="keyword">sizeof</span> a_login);</span><br><span class="line">				<span class="keyword">if</span> (admin_ID == a_login.ID) &#123;</span><br><span class="line">					o = <span class="number">1</span>;</span><br><span class="line">					<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç :\t&quot;</span>;</span><br><span class="line">					<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">						<span class="built_in">cin</span> &gt;&gt; manage_password;</span><br><span class="line">						<span class="built_in">cin</span>.ignore();</span><br><span class="line">						<span class="keyword">if</span> (!<span class="built_in">strcmp</span>(manage_password, a_login.password)) &#123;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\n********************************ç™»å½•æˆåŠŸ********************************&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; a_login.name &lt;&lt; <span class="string">&quot;ç®¡ç†å‘˜æ‚¨å¥½!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">							admin.choose();</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ç®¡ç†å‘˜å¯†ç é”™è¯¯! è¯·é‡æ–°è¾“å…¥:\t&quot;</span>;</span><br><span class="line">							<span class="keyword">continue</span>;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (m == <span class="number">0</span> &amp;&amp; o == <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ­¤ç®¡ç†ä¸å­˜åœ¨! è¯·é‡æ–°è¾“å…¥:\t&quot;</span>;</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//é¦†é•¿é€‰æ‹©åŠŸèƒ½</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Directors::choose</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	Basic basic;</span><br><span class="line">	<span class="keyword">char</span> judge2;	<span class="comment">//é€‰æ‹©åŠŸèƒ½</span></span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\nè¯·é€‰æ‹©:1.-----æŸ¥æ‰¾ä¹¦ç±&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       2.-----æ·»åŠ ä¹¦ç±&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       3.-----æŸ¥æ‰¾å­¦ç”Ÿ/æ•™å¸ˆ&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       4.-----æ·»åŠ ç®¡ç†å‘˜&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       5.-----åˆ é™¤ç®¡ç†å‘˜&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       6.-----ä¿®æ”¹ç™»å½•å&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       7.-----ä¿®æ”¹å¯†ç &quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       0.-----é€€å‡ºç™»å½•&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; judge2;</span><br><span class="line">		<span class="built_in">cin</span>.ignore();</span><br><span class="line">		<span class="keyword">switch</span> (judge2) &#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>: &#123;</span><br><span class="line">				basic.booksearch();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;2&#x27;</span>: &#123;</span><br><span class="line">				addbook();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;3&#x27;</span>: &#123;</span><br><span class="line">				searchperson();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;4&#x27;</span>: &#123;</span><br><span class="line">				addadmin();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;5&#x27;</span>: &#123;</span><br><span class="line">				deladmin();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;6&#x27;</span>: &#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;0&#x27;</span>: &#123;</span><br><span class="line">				<span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">default</span>: &#123;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¾“å…¥å­—ç¬¦æ— æ•ˆ!è¯·é‡æ–°è¾“å…¥!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//ç®¡ç†å‘˜é€‰æ‹©åŠŸèƒ½</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Admins::choose</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	Basic basic;</span><br><span class="line">	<span class="keyword">char</span> judge2;	<span class="comment">//é€‰æ‹©åŠŸèƒ½</span></span><br><span class="line">	<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;\nè¯·é€‰æ‹©:\t1.-----æŸ¥æ‰¾ä¹¦ç±&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       \t2.-----æŸ¥æ‰¾å­¦ç”Ÿ/æ•™å¸ˆä¿¡æ¯&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       \t3.-----ä¿®æ”¹ç™»å½•å&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       \t4.-----ä¿®æ”¹å¯†ç &quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;       \t0.-----é€€å‡ºç™»å½•&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; judge2;</span><br><span class="line">		<span class="built_in">cin</span>.ignore();</span><br><span class="line">		<span class="keyword">switch</span> (judge2) &#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>: &#123;</span><br><span class="line">				basic.booksearch();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;2&#x27;</span>: &#123;</span><br><span class="line">				searchperson();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;3&#x27;</span>: &#123;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;0&#x27;</span>: &#123;</span><br><span class="line">				<span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">default</span>: &#123;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¾“å…¥å­—ç¬¦æ— æ•ˆ!è¯·é‡æ–°è¾“å…¥!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//ç®¡ç†è€…æ·»åŠ ä¹¦ç±</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Manage::addbook</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	fstream writefile;</span><br><span class="line">	fstream readfile0;</span><br><span class="line">	<span class="comment">//éªŒè¯books.datæ˜¯å¦å­˜åœ¨</span></span><br><span class="line">	fstream readfile1;</span><br><span class="line">	<span class="comment">//è¯»å–books.dat</span></span><br><span class="line">	fstream readfile2;</span><br><span class="line">	<span class="comment">//è¯»å–books_copy.dat</span></span><br><span class="line">	book adding;</span><br><span class="line">	book mid1;</span><br><span class="line">	<span class="comment">//è¯»å–æ–‡ä»¶ï¼Œéå†ç»“æ„ä½“ä¸­çš„ä¹¦ç±å</span></span><br><span class="line">	book mid2;</span><br><span class="line">	<span class="comment">//è¯»å–æ–‡ä»¶ï¼Œå­˜å‚¨éæ·»åŠ ä¹¦ç±çš„ç»“æ„ä½“</span></span><br><span class="line"></span><br><span class="line">	readfile0.open(<span class="string">&quot;books.dat&quot;</span>, ios::in);</span><br><span class="line">	<span class="comment">//å½“books.datä¸å­˜åœ¨æ—¶ï¼Œæ–°å»ºæ–‡ä»¶</span></span><br><span class="line">	<span class="keyword">if</span> (!readfile0) &#123;</span><br><span class="line">		readfile1.open(<span class="string">&quot;books.dat&quot;</span>, ios::out);</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;books.datåˆ›å»ºæˆåŠŸ!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		readfile1.close();</span><br><span class="line">	&#125;</span><br><span class="line">	readfile0.close();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;; i++) &#123;</span><br><span class="line">		<span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­ä¹¦ç±æ˜¯å¦å·²å­˜åœ¨</span></span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥è¦æ·»åŠ çš„ä¹¦ç±å:\t&quot;</span>;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; adding.book_name;</span><br><span class="line">		<span class="built_in">cin</span>.ignore();</span><br><span class="line">		readfile1.open(<span class="string">&quot;books.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">		<span class="keyword">while</span> (!readfile1.eof()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (!readfile1)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			readfile1.read((<span class="keyword">char</span> *)&amp;mid1, <span class="keyword">sizeof</span> mid1);</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">strcmp</span>(mid1.book_name, adding.book_name) == <span class="number">0</span>) &#123;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;é¦†å†…å·²å­˜åœ¨æ­¤ä¹¦ç±&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				m = <span class="number">1</span>;</span><br><span class="line">				mid1.book_num++;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±åç§°:\t&quot;</span> &lt;&lt; mid1.book_name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±ä½œè€…:\t&quot;</span> &lt;&lt; mid1.book_author &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¹¦ç±ä½ç½®:\t&quot;</span> &lt;&lt; mid1.book_location &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å‰©ä½™æ•°é‡:\t&quot;</span> &lt;&lt; mid1.book_num &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				writefile.open(<span class="string">&quot;books_copy.dat&quot;</span>, ios::out | ios::binary);</span><br><span class="line">				writefile.write((<span class="keyword">char</span> *)&amp;mid1, <span class="keyword">sizeof</span> mid1);</span><br><span class="line">				writefile.clear();</span><br><span class="line">				writefile.close();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		readfile1.close();</span><br><span class="line">		<span class="comment">//*****æ³¨æ„å…³é—­æ–‡ä»¶ï¼æœªå…³é—­æ–‡ä»¶æ—¶æŒ‡é’ˆä¸€ç›´åœ¨æ–‡ä»¶ç»“å°¾*****</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (m == <span class="number">1</span>) &#123;</span><br><span class="line">			readfile1.open(<span class="string">&quot;books.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">			<span class="keyword">while</span> (!readfile1.eof()) &#123;</span><br><span class="line">				<span class="keyword">if</span> (!readfile1)</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				readfile1.read((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">strcmp</span>(mid2.book_name, adding.book_name) != <span class="number">0</span>) &#123;</span><br><span class="line">					writefile.open(<span class="string">&quot;books_copy.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">					writefile.write((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">					writefile.clear();</span><br><span class="line">					writefile.close();</span><br><span class="line"></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			readfile1.close();</span><br><span class="line"></span><br><span class="line">			readfile1.open(<span class="string">&quot;books.dat&quot;</span>, ios::out);</span><br><span class="line">			readfile1.close();</span><br><span class="line">			readfile2.open(<span class="string">&quot;books_copy.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">			<span class="keyword">while</span> (!readfile2.eof()) &#123;</span><br><span class="line">				<span class="keyword">if</span> (!readfile2)</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				readfile2.read((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">				writefile.open(<span class="string">&quot;books.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">				writefile.write((<span class="keyword">char</span> *)&amp;mid2, <span class="keyword">sizeof</span> mid2);</span><br><span class="line">				writefile.clear();</span><br><span class="line">				writefile.close();</span><br><span class="line">			&#125;</span><br><span class="line">			readfile2.close();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (m == <span class="number">0</span>) &#123;	<span class="comment">//é¦†å†…æœªæ·»åŠ è¯¥ä¹¦ç±æ—¶</span></span><br><span class="line">			writefile.open(<span class="string">&quot;books.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥è¦æ·»åŠ çš„ä¹¦ç±ä½œè€…:\t&quot;</span>;</span><br><span class="line">			<span class="built_in">cin</span>.getline(adding.book_author, <span class="number">15</span>);</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥è¦æ·»åŠ çš„ä¹¦ç±æ‰€æ”¾ä½ç½®:\t&quot;</span>;</span><br><span class="line">			<span class="built_in">cin</span>.getline(adding.book_location, <span class="number">25</span>);</span><br><span class="line">			writefile.write((<span class="keyword">char</span> *)&amp;adding, <span class="keyword">sizeof</span>(adding));</span><br><span class="line">			writefile.clear();</span><br><span class="line">			writefile.close();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ˜¯å¦è¦ç»§ç»­æ·»åŠ (Y/N):\t&quot;</span>;</span><br><span class="line">		<span class="keyword">char</span> judge1;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­æ˜¯å¦è¿›è¡Œä¸‹ä¸€æ¬¡æ·»åŠ </span></span><br><span class="line">		<span class="keyword">int</span> judge2 = <span class="number">1</span>;</span><br><span class="line">		<span class="comment">//åˆ¤æ–­è¾“å…¥å­—ç¬¦æœ‰æ•ˆæ€§</span></span><br><span class="line">		<span class="keyword">while</span> (judge2) &#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; judge1;</span><br><span class="line">			<span class="built_in">cin</span>.ignore();</span><br><span class="line">			<span class="keyword">if</span> (judge1 == <span class="string">&#x27;Y&#x27;</span> || judge1 == <span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">				judge2 = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (judge1 == <span class="string">&#x27;N&#x27;</span> || judge1 == <span class="string">&#x27;n&#x27;</span>)</span><br><span class="line">				judge2 = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥:\n&quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (judge1 == <span class="string">&#x27;Y&#x27;</span> || judge1 == <span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (judge1 == <span class="string">&#x27;N&#x27;</span> || judge1 == <span class="string">&#x27;n&#x27;</span>)</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//é¦†é•¿æ·»åŠ ç®¡ç†å‘˜</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Directors::addadmin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	fstream write;</span><br><span class="line">	<span class="comment">//å°†ç®¡ç†å‘˜ä¿¡æ¯å†™å…¥æ–‡ä»¶</span></span><br><span class="line">	write.open(<span class="string">&quot;admins_info.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">	admins add;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥æ·»åŠ çš„ç®¡ç†å‘˜å§“å:\t&quot;</span>;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; add.name;</span><br><span class="line">	<span class="built_in">cin</span>.ignore();</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥æ·»åŠ çš„ç®¡ç†å‘˜ID:\t&quot;</span>;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; add.ID;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·ä¸ºæ·»åŠ çš„ç®¡ç†å‘˜åˆå§‹åŒ–å¯†ç :\t&quot;</span>;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; add.password;</span><br><span class="line">	<span class="built_in">cin</span>.ignore();</span><br><span class="line">	<span class="keyword">char</span> password[<span class="number">10</span>];</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·ç¡®è®¤å¯†ç :\t&quot;</span>;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; password;</span><br><span class="line">	<span class="built_in">cin</span>.ignore();</span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">strcmp</span>(password, add.password) == <span class="number">0</span>) &#123;</span><br><span class="line">		write.write((<span class="keyword">char</span> *)&amp;add, <span class="keyword">sizeof</span>(add));</span><br><span class="line">		write.close();</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ³¨å†ŒæˆåŠŸ!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">while</span> (<span class="built_in">strcmp</span>(password, add.password) != <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;ä¸¤æ¬¡å¯†ç è¾“å…¥ä¸ä¸€è‡´ è¯·é‡æ–°è¾“å…¥:\t&quot;</span>;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; password;</span><br><span class="line">			<span class="built_in">cin</span>.ignore();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (!<span class="built_in">strcmp</span>(password, add.password)) &#123;</span><br><span class="line">			write.write((<span class="keyword">char</span> *)&amp;add, <span class="keyword">sizeof</span>(add));</span><br><span class="line">			write.close();</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ³¨å†ŒæˆåŠŸ!&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//é¦†é•¿åˆ é™¤ç®¡ç†å‘˜</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Directors::deladmin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	admins del;</span><br><span class="line">	fstream read;</span><br><span class="line">	fstream write;</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> mid1;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥è¦åˆ é™¤çš„ç®¡ç†å‘˜ID:\t&quot;</span>;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; mid1;</span><br><span class="line">	read.open(<span class="string">&quot;admins_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">	<span class="keyword">while</span> (!read.eof()) &#123;</span><br><span class="line">		<span class="keyword">if</span> (!read)</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		read.read((<span class="keyword">char</span> *)&amp;del, <span class="keyword">sizeof</span> del);</span><br><span class="line">		<span class="keyword">if</span> (mid1 == del.ID) &#123;</span><br><span class="line">			write.open(<span class="string">&quot;admins_info_copy.dat&quot;</span>, ios::out);</span><br><span class="line">			write.close();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	read.close();</span><br><span class="line">	read.open(<span class="string">&quot;admins_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">	<span class="keyword">while</span> (!read.eof()) &#123;</span><br><span class="line">		<span class="keyword">if</span> (!read)</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		read.read((<span class="keyword">char</span> *)&amp;del, <span class="keyword">sizeof</span> del);</span><br><span class="line">		<span class="keyword">if</span> (mid1 != del.ID) &#123;</span><br><span class="line">			write.open(<span class="string">&quot;admins_info_copy.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">			write.write((<span class="keyword">char</span> *)&amp;del, <span class="keyword">sizeof</span> del);</span><br><span class="line">			write.close();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	read.close();</span><br><span class="line">	write.open(<span class="string">&quot;admins_info.dat&quot;</span>, ios::out);</span><br><span class="line">	write.close();</span><br><span class="line">	read.open(<span class="string">&quot;admins_info_copy.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">	<span class="keyword">while</span> (!read.eof()) &#123;</span><br><span class="line">		<span class="keyword">if</span> (!read)</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		read.read((<span class="keyword">char</span> *)&amp;del, <span class="keyword">sizeof</span> del);</span><br><span class="line">		write.open(<span class="string">&quot;admins_info.dat&quot;</span>, ios::app | ios::binary);</span><br><span class="line">		write.write((<span class="keyword">char</span> *)&amp;del, <span class="keyword">sizeof</span> del);</span><br><span class="line">		write.close();</span><br><span class="line">	&#125;</span><br><span class="line">	read.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//*******************************************************************************************************</span></span><br><span class="line"><span class="comment">//æŸ¥æ‰¾å­¦ç”Ÿ/æ•™å¸ˆä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Manage::searchperson</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> judge1;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·é€‰æ‹©æŸ¥æ‰¾çš„äººç‰©èº«ä»½(S/s-å­¦ç”Ÿ T/t-æ•™å¸ˆ):\t&quot;</span>;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; judge1;</span><br><span class="line">	<span class="built_in">cin</span>.ignore();</span><br><span class="line">	<span class="keyword">if</span> (judge1 == <span class="string">&#x27;S&#x27;</span> || judge1 == <span class="string">&#x27;s&#x27;</span>) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥æŸ¥æ‰¾æ–¹å¼:\t1.---å§“å&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;               \t2.---ID&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">char</span> judge2;</span><br><span class="line">		<span class="keyword">int</span> judge3 = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; judge2;</span><br><span class="line">		<span class="keyword">switch</span> (judge2) &#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>: &#123;</span><br><span class="line">				students search;</span><br><span class="line">				<span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">				<span class="keyword">do</span> &#123;</span><br><span class="line">					<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥æŸ¥æ‰¾çš„å­¦ç”Ÿå§“å:\t&quot;</span>;</span><br><span class="line">					<span class="built_in">cin</span> &gt;&gt; name;</span><br><span class="line">					<span class="built_in">cin</span>.ignore();</span><br><span class="line">					fstream read;</span><br><span class="line">					read.open(<span class="string">&quot;students_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">					<span class="keyword">while</span> (!read.eof()) &#123;</span><br><span class="line">						<span class="keyword">if</span> (!read)</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						read.read((<span class="keyword">char</span> *)&amp;search, <span class="keyword">sizeof</span> search);</span><br><span class="line">						<span class="keyword">if</span> (!<span class="built_in">strcmp</span>(search.name, name)) &#123;</span><br><span class="line">							judge3 = <span class="number">1</span>;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å­¦ç”Ÿå§“å:      &quot;</span> &lt;&lt; search.name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å­¦ç”ŸID:        &quot;</span> &lt;&lt; search.ID &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å­¦ç”Ÿæ‰€å€Ÿä¹¦ç±:  &quot;</span> &lt;&lt; search.ownbook_name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					read.close();</span><br><span class="line">					<span class="keyword">if</span> (judge3 == <span class="number">0</span>) &#123;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æœªæ‰¾åˆ°ç”¨æˆ· &quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot;åŒå­¦&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						<span class="keyword">continue</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125; <span class="keyword">while</span> (<span class="number">0</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;2&#x27;</span>: &#123;</span><br><span class="line">				students search;</span><br><span class="line">				<span class="keyword">long</span> <span class="keyword">long</span> ID;</span><br><span class="line">				<span class="keyword">do</span> &#123;</span><br><span class="line">					<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥æŸ¥æ‰¾çš„å­¦ç”ŸID:\t&quot;</span>;</span><br><span class="line">					<span class="built_in">cin</span> &gt;&gt; ID;</span><br><span class="line">					fstream read;</span><br><span class="line">					read.open(<span class="string">&quot;students_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">					<span class="keyword">while</span> (!read.eof()) &#123;</span><br><span class="line">						<span class="keyword">if</span> (!read)</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						read.read((<span class="keyword">char</span> *)&amp;search, <span class="keyword">sizeof</span> search);</span><br><span class="line">						<span class="keyword">if</span> (search.ID == ID) &#123;</span><br><span class="line">							judge3 = <span class="number">1</span>;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å­¦ç”Ÿå§“å:      &quot;</span> &lt;&lt; search.name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å­¦ç”ŸID:        &quot;</span> &lt;&lt; search.ID &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;å­¦ç”Ÿæ‰€å€Ÿä¹¦ç±:  &quot;</span> &lt;&lt; search.ownbook_name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					read.close();</span><br><span class="line">					<span class="keyword">if</span> (judge3 == <span class="number">0</span>) &#123;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æœªæ‰¾åˆ°ç”¨æˆ·IDä¸º &quot;</span> &lt;&lt; ID &lt;&lt; <span class="string">&quot; çš„åŒå­¦&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						<span class="keyword">continue</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125; <span class="keyword">while</span> (<span class="number">0</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">default</span>: &#123;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ— æ•ˆå­—ç¬¦! è¯·é‡æ–°è¾“å…¥:&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (judge1 == <span class="string">&#x27;T&#x27;</span> || judge1 == <span class="string">&#x27;t&#x27;</span>) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥æŸ¥æ‰¾æ–¹å¼:\t1.---å§“å&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;               \t2.---ID&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">char</span> judge2;</span><br><span class="line">		<span class="keyword">int</span> judge3 = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; judge2;</span><br><span class="line">		<span class="keyword">switch</span> (judge2) &#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>: &#123;</span><br><span class="line">				teachers search;</span><br><span class="line">				<span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">				<span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">					<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥æŸ¥æ‰¾çš„æ•™å¸ˆå§“å:\t&quot;</span>;</span><br><span class="line">					<span class="built_in">cin</span> &gt;&gt; name;</span><br><span class="line">					<span class="built_in">cin</span>.ignore();</span><br><span class="line">					fstream read;</span><br><span class="line">					read.open(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">					<span class="keyword">while</span> (!read.eof()) &#123;</span><br><span class="line">						<span class="keyword">if</span> (!read)</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						read.read((<span class="keyword">char</span> *)&amp;search, <span class="keyword">sizeof</span> search);</span><br><span class="line">						<span class="keyword">if</span> (!<span class="built_in">strcmp</span>(search.name, name)) &#123;</span><br><span class="line">							judge3 = <span class="number">1</span>;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ•™å¸ˆå§“å:      &quot;</span> &lt;&lt; search.name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ•™å¸ˆID:        &quot;</span> &lt;&lt; search.ID &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ•™å¸ˆæ‰€å€Ÿä¹¦ç±:  &quot;</span> &lt;&lt; search.ownbook_name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					read.close();</span><br><span class="line">					<span class="keyword">if</span> (judge3 == <span class="number">0</span>) &#123;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æœªæ‰¾åˆ°ç”¨æˆ· &quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot;åŒå­¦&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						<span class="keyword">continue</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">&#x27;2&#x27;</span>: &#123;</span><br><span class="line">				teachers search;</span><br><span class="line">				<span class="keyword">long</span> <span class="keyword">long</span> ID;</span><br><span class="line">				<span class="keyword">do</span> &#123;</span><br><span class="line">					<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;è¯·è¾“å…¥æŸ¥æ‰¾çš„æ•™å¸ˆID:\t&quot;</span>;</span><br><span class="line">					<span class="built_in">cin</span> &gt;&gt; ID;</span><br><span class="line">					fstream read;</span><br><span class="line">					read.open(<span class="string">&quot;teachers_info.dat&quot;</span>, ios::in | ios::binary);</span><br><span class="line">					<span class="keyword">while</span> (!read.eof()) &#123;</span><br><span class="line">						<span class="keyword">if</span> (!read)</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						read.read((<span class="keyword">char</span> *)&amp;search, <span class="keyword">sizeof</span> search);</span><br><span class="line">						<span class="keyword">if</span> (search.ID == ID) &#123;</span><br><span class="line">							judge3 = <span class="number">1</span>;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ•™å¸ˆå§“å:      &quot;</span> &lt;&lt; search.name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ•™å¸ˆID:        &quot;</span> &lt;&lt; search.ID &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">							<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ•™å¸ˆæ‰€å€Ÿä¹¦ç±:  &quot;</span> &lt;&lt; search.ownbook_name &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					read.close();</span><br><span class="line">					<span class="keyword">if</span> (judge3 == <span class="number">0</span>) &#123;</span><br><span class="line">						<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æœªæ‰¾åˆ°ç”¨æˆ·IDä¸º &quot;</span> &lt;&lt; ID &lt;&lt; <span class="string">&quot; çš„åŒå­¦&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">						<span class="keyword">continue</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125; <span class="keyword">while</span> (<span class="number">0</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">default</span>: &#123;</span><br><span class="line">				<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;æ— æ•ˆå­—ç¬¦! è¯·é‡æ–°è¾“å…¥:&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>é¦†é•¿åˆå§‹ç™»å½•ä¿¡æ¯å°±å†™ä¸ªç¨‹åºå†™å…¥æ–‡ä»¶äº†</p>
</blockquote>
<h2 id="change-director-cpp"><a href="#change-director-cpp" class="headerlink" title="change_director.cpp"></a>change_director.cpp</h2><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">director</span>&#123;</span></span><br><span class="line">	<span class="keyword">char</span> ID[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">char</span> password[<span class="number">10</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	fstream write;</span><br><span class="line">	director registered;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;ID:&quot;</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;registered.ID;</span><br><span class="line">	<span class="built_in">cin</span>.ignore();</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;registered.password;</span><br><span class="line">	<span class="built_in">cin</span>.ignore();</span><br><span class="line">	write.open(<span class="string">&quot;director_info.dat&quot;</span>,ios::out|ios::binary);</span><br><span class="line">	write.write((<span class="keyword">char</span> *)&amp;registered,<span class="keyword">sizeof</span> registered);</span><br><span class="line">	write.close();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å¼€å‘</category>
      </categories>
      <tags>
        <tag>C++</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºç§‘å­¦å¯¼è®ºè¯¾ç¨‹å­¦ä¹ æŠ¥å‘Š</title>
    <url>/2021/04/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E5%AF%BC%E8%AE%BA%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0%E6%8A%A5%E5%91%8A/</url>
    <content><![CDATA[<blockquote>
<p>æ­¤æ–‡ä¸ºå¤§ä¸€ä¸Šè®¡ç®—æœºç§‘å­¦æ¦‚è®ºè¯¾ç¨‹ç»“è¯¾è®ºæ–‡ï¼Œä¸ºçºªå¿µç¬¬ä¸€æ¬¡å®Œæˆæ•°åƒå­—çš„è®ºæ–‡ï¼Œé˜²æ­¢ä¸æ…å¼„ä¸¢ï¼Œå› æ­¤ä¸Šä¼ è‡³åšå®¢ï¼Œæ²¡å•¥æ°´å¹³ï¼Œä»…ä½œçºªå¿µ</p>
</blockquote>
<span id="more"></span>
<h1 id="è®¡ç®—æœºç§‘å­¦å¯¼è®ºè¯¾ç¨‹å­¦ä¹ æŠ¥å‘Š"><a href="#è®¡ç®—æœºç§‘å­¦å¯¼è®ºè¯¾ç¨‹å­¦ä¹ æŠ¥å‘Š" class="headerlink" title="è®¡ç®—æœºç§‘å­¦å¯¼è®ºè¯¾ç¨‹å­¦ä¹ æŠ¥å‘Š"></a>è®¡ç®—æœºç§‘å­¦å¯¼è®ºè¯¾ç¨‹å­¦ä¹ æŠ¥å‘Š</h1><h2 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h2><p>æ‘˜è¦ï¼šç»§19ä¸–çºªæŸ¥å°”æ–¯Â·å·´è´å¥‡å‘æ˜å¯ç¼–ç¨‹çš„åˆ†ææœºä»¥æ¥ï¼Œè®¡ç®—æœºå·²ç»ç»è¿‡äº†ä¸¤ä¸ªä¸–çºªçš„å‘å±•ã€‚è€Œåœ¨è®¡ç®—æœºé«˜é€Ÿå‘å±•çš„åŒæ—¶ï¼Œä¿¡æ¯å®‰å…¨ä¹Ÿæˆäº†æ¯ä¸ªäººä¸å¾—ä¸é‡è§†çš„é—®é¢˜ã€‚é€šè¿‡å¯¹è®¡ç®—æœºç§‘å­¦å¯¼è®ºè¯¾ç¨‹çš„å­¦ä¹ ï¼Œæˆ‘å¯¹äºä¿¡æ¯å®‰å…¨åŠè®¡ç®—æœºç»„æˆçš„è§è§£å¦‚ä¸‹ã€‚</p>
<h2 id="å…³é”®è¯"><a href="#å…³é”®è¯" class="headerlink" title="å…³é”®è¯"></a>å…³é”®è¯</h2><p>å…³é”®è¯ï¼šè®¡ç®—æœº ä¿¡æ¯å®‰å…¨ ç¡¬ä»¶ç³»ç»Ÿ æ“ä½œç³»ç»Ÿ ç½‘ç»œ æ•°æ®åº“ ç¨‹åºè®¾è®¡è¯­è¨€ ç®—æ³•  </p>
<h2 id="ä¸€ã€å¼•è¨€"><a href="#ä¸€ã€å¼•è¨€" class="headerlink" title="ä¸€ã€å¼•è¨€"></a>ä¸€ã€å¼•è¨€</h2><p>ä¸€ã€å¼•è¨€<br>ç»§19ä¸–çºªæŸ¥å°”æ–¯Â·å·´è´å¥‡å‘æ˜å¯ç¼–ç¨‹çš„åˆ†ææœºä»¥æ¥ï¼Œè®¡ç®—æœºå·²ç»ç»è¿‡äº†ä¸¤ä¸ªä¸–çºªçš„å‘å±•ã€‚1946å¹´è¯ç”Ÿçš„åŸºäºäºŒè¿›åˆ¶çš„ENIACï¼Œååˆæ”¹è¿›ä¸ºå†¯Â·è¯ºä¾æ›¼ç»“æ„ï¼Œå¥ å®šäº†æœªæ¥è®¡ç®—æœºçš„åŸºç¡€ï¼›1958å¹´ï¼Œç½—ä¼¯ç‰¹Â·è¯ºä¼Šæ–¯å‘æ˜äº†é›†æˆç”µè·¯æ¨åŠ¨äº†ç¬¬ä¸‰ä»£è®¡ç®—æœºçš„å‘å±•ï¼›1971å¹´ï¼ŒKenbakå…¬å¸æ¨å‡ºäº†Kenbak-1ï¼Œä¸–ç•Œä¸Šç¬¬ä¸€å°ä¸ªäººPCï¼Œè®¡ç®—æœºä»æ­¤å¼€å§‹é€æ¸èµ°è¿›åƒå®¶ä¸‡æˆ·ï¼›1969å¹´ï¼Œå› ç‰¹ç½‘è¯ç”Ÿï¼›1989å¹´ï¼Œè‹±å›½ç§‘å­¦å®¶è’‚å§†Â·ä¼¯çº³æ–¯-æå‘æ˜äº†ä¸‡ç»´ç½‘ï¼›éšç€å› ç‰¹ç½‘çš„å¿«é€Ÿå‘å±•ï¼Œå¤§é‡çš„å±€åŸŸç½‘å’Œä¸ªäººè®¡ç®—æœºç”¨æˆ·æ¥å…¥ï¼Œä¸–ç•Œé€šè¿‡è®¡ç®—æœºè¿æ¥åœ¨äº†ä¸€èµ·ï¼Œæ„æˆäº†åœ°çƒæ‘ã€‚</p>
<p>è€Œåœ¨è®¡ç®—æœºé«˜é€Ÿå‘å±•çš„åŒæ—¶ï¼Œä¿¡æ¯å®‰å…¨ä¹Ÿæˆäº†æ¯ä¸ªäººä¸å¾—ä¸é‡è§†çš„é—®é¢˜ã€‚ä½œä¸ºæ–°æ—¶ä»£è®¡ç®—æœºä¿¡æ¯å®‰å…¨ä¸“ä¸šçš„å­¦ç”Ÿï¼Œæˆ‘ä»¬ä¸ä»…è¦å­¦ä¹ ä¿¡æ¯å®‰å…¨æ–¹é¢çš„çŸ¥è¯†ï¼Œæ›´è¦äº†è§£è®¡ç®—æœºçš„åŸºç¡€ç»“æ„ã€å·¥ä½œåŸç†ç­‰ã€‚</p>
<h2 id="äºŒã€ä¿¡æ¯å®‰å…¨"><a href="#äºŒã€ä¿¡æ¯å®‰å…¨" class="headerlink" title="äºŒã€ä¿¡æ¯å®‰å…¨"></a>äºŒã€ä¿¡æ¯å®‰å…¨</h2><p>äºŒã€ä¿¡æ¯å®‰å…¨<br>21 ä¸–çºªæ˜¯ä¿¡æ¯çš„æ—¶ä»£ã€‚ä¸€æ–¹é¢ï¼Œä¿¡æ¯æŠ€æœ¯ä¼´éšè®¡ç®—æœºçš„é«˜é€Ÿå‘å±•è€Œè¿…é€Ÿå£®å¤§ï¼Œå‘ˆç°å‡ºç©ºå‰ç¹è£çš„æ™¯è±¡ï¼Œå¦ä¸€æ–¹é¢, å±å®³ä¿¡æ¯å®‰å…¨çš„äº‹ä»¶ä¸æ–­å‘ç”Ÿï¼Œ2016å¹´8æœˆçš„å¾ç‰ç‰æ¡ˆï¼Œ2016å¹´9æœˆMiraiå¼€å¯åƒµå°¸ç‰©è”ç½‘æ—¶ä»£ï¼Œ2017å¹´4æœˆâ€œæ°¸æ’ä¹‹è“â€å‹’ç´¢ç—…æ¯’åœ¨å…¨çƒèŒƒå›´å†…çˆ†å‘â€¦â€¦ä¿¡æ¯å®‰å…¨äº‹å…³ç¤¾ä¼šç¨³å®šå’Œå›½å®¶å®‰å…¨ï¼Œä¸ºåº”å¯¹æ–°æ—¶ä»£æ„ˆå‘ä¸¥é‡çš„ä¿¡æ¯å®‰å…¨é—®é¢˜ï¼Œæˆ‘å›½äº2017å¹´6æœˆ1æ—¥å¼€å§‹å®è¡Œã€Šä¸­åäººæ°‘å…±å’Œå›½ç½‘ç»œå®‰å…¨æ³•ã€‹ä»¥ç¡®ä¿å…¬æ°‘åŠå›½å®¶çš„ä¿¡æ¯å®‰å…¨ã€‚ä¿¡æ¯å®‰å…¨ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ 4 ä¸ªæ–¹é¢ï¼šä¿¡æ¯è®¾å¤‡å®‰å…¨ã€æ•°æ®å®‰å…¨ã€å†…å®¹å®‰å…¨å’Œè¡Œä¸ºå®‰å…¨ï¼Œä¿¡æ¯ç³»ç»Ÿç¡¬ä»¶ç»“æ„çš„å®‰å…¨å’Œæ“ä½œç³»ç»Ÿçš„å®‰å…¨æ˜¯ä¿¡æ¯ç³»ç»Ÿå®‰å…¨çš„åŸºç¡€ï¼Œå¯†ç ã€ç½‘ç»œå®‰å…¨ç­‰æŠ€æœ¯æ˜¯å…³é”®æŠ€æœ¯ï¼Œåªæœ‰ä»ä¿¡æ¯ç³»ç»Ÿçš„ç¡¬ä»¶å’Œè½¯ä»¶çš„åº•å±‚é‡‡å–å®‰å…¨æªæ–½ï¼Œä»æ•´ä½“ä¸Šé‡‡å–æªæ–½ï¼Œæ‰èƒ½æ¯”è¾ƒæœ‰æ•ˆåœ°ç¡®ä¿ä¿¡æ¯ç³»ç»Ÿçš„å®‰å…¨[1]ã€‚</p>
<p>åœ¨è¿™ä¸ªæŠ€æœ¯æ—¥æ–°æœˆå¼‚çš„æ–°æ—¶ä»£ï¼Œæœ‰æœ¨é©¬ï¼Œæœ‰ç—…æ¯’ï¼Œæœ‰Dosæ”»å‡»ï¼Œç”šè‡³é‡å­è®¡ç®—æœºä¹Ÿåœ¨é€æ¸çš„å¼€å‘ä¸­ï¼Œå½“è¿™ç§è¿ç®—é€Ÿåº¦è¿œå¼ºäºä¼ ç»Ÿè®¡ç®—æœºçš„å·¥å…·è¯ç”Ÿï¼Œå±Šæ—¶å—åˆ°ä¸¥é‡å¨èƒçš„å°†æ˜¯æ•´ä¸ªä¸–ç•Œçš„ä¿¡æ¯å®‰å…¨ï¼Œè€Œæˆ‘ä»¬å­¦ä¹ ä¿¡æ¯å®‰å…¨æ–¹é¢çš„çŸ¥è¯†ï¼Œå°±èµ°åœ¨æ„å»ºä¿¡æ¯å®‰å…¨çš„ç¤¾ä¼šçš„é“è·¯ä¸Šã€‚åœ¨ç°åœ¨è¿™ä¸ªä¿¡æ¯å‘è¾¾ï¼Œèƒ½åŠ›è€…ä¼—å¤šçš„æ—¶ä»£ï¼Œæˆ‘ä»¬è‹¥æƒ³ä¸ºæ„å»ºä¿¡æ¯å®‰å…¨ç¤¾ä¼šè´¡çŒ®ä¸€ä»½åŠ›é‡ï¼Œå°±è¦åŠ å¼ºåœ¨è¿™æ–¹é¢çš„çŸ¥è¯†èƒ½åŠ›å’Œè®¤çŸ¥ï¼Œå¤šäº†è§£å›½å†…å¤–ä¿¡æ¯å®‰å…¨æ¡ˆä¾‹ï¼Œåˆ†æå¯¼è‡´é—®é¢˜çš„åŸå› ï¼Œå®‰å…¨éšæ‚£ï¼Œå¨èƒç¨‹åº¦ç­‰ï¼Œå¹¶æ„æƒ³è¯¥ä»ä½•å»é¿å…æ­¤é—®é¢˜å‘ç”Ÿæˆ–è§£å†³æ­¤é—®é¢˜ã€‚</p>
<h2 id="ä¸‰ã€æµ…æè®¡ç®—æœº"><a href="#ä¸‰ã€æµ…æè®¡ç®—æœº" class="headerlink" title="ä¸‰ã€æµ…æè®¡ç®—æœº"></a>ä¸‰ã€æµ…æè®¡ç®—æœº</h2><p>ä¸‰ã€æµ…æè®¡ç®—æœº</p>
<h3 id="è®¡ç®—æœºç¡¬ä»¶ç³»ç»Ÿçš„ç»“æ„å’Œå·¥ä½œè¿‡ç¨‹"><a href="#è®¡ç®—æœºç¡¬ä»¶ç³»ç»Ÿçš„ç»“æ„å’Œå·¥ä½œè¿‡ç¨‹" class="headerlink" title="è®¡ç®—æœºç¡¬ä»¶ç³»ç»Ÿçš„ç»“æ„å’Œå·¥ä½œè¿‡ç¨‹"></a>è®¡ç®—æœºç¡¬ä»¶ç³»ç»Ÿçš„ç»“æ„å’Œå·¥ä½œè¿‡ç¨‹</h3><p>è®¡ç®—æœºç¡¬ä»¶ç³»ç»Ÿçš„ç»“æ„å’Œå·¥ä½œè¿‡ç¨‹ï¼š<br>è®¡ç®—æœºç¡¬ä»¶ç³»ç»Ÿä¸ºå†¯Â·è¯ºä¾æ›¼ç»“æ„ï¼Œåˆ†ä¸ºå­˜å‚¨å™¨ã€è¿ç®—å™¨ã€æ§åˆ¶å™¨ã€è¾“å…¥è®¾å¤‡å’Œè¾“å‡ºè®¾å¤‡ã€‚</p>
<p>è®¡ç®—æœºç”±è®¸å¤šå°å‹ç”µå­ç”µè·¯æ„æˆé—¨ï¼Œé€šè¿‡è¿™äº›ç”µè·¯çš„ç”µå‹ç”µå¹³æ¥è¡¨ç¤º0å’Œ1è¿›è¡Œå¸ƒå°”è¿ç®—ï¼Œè€Œå¤šä¸ªé—¨åˆæ„æˆäº†è§¦å‘å™¨ç”µè·¯ï¼Œè§¦å‘å™¨æ˜¯è®¡ç®—æœºå­˜å‚¨å™¨çš„åŸºæœ¬éƒ¨ä»¶ã€‚è¶…å¤§è§„æ¨¡é›†æˆï¼ˆVLSIï¼‰æŠ€æœ¯å°†æ•°ç™¾ä¸‡ä¸ªç”µå­å…ƒä»¶æ„é€ åœ¨èŠ¯ç‰‡ä¸Šï¼Œä»è€Œåˆ›å»ºå‡ºåŒ…å«æ•°ç™¾ä¸‡ä¸ªè§¦å‘å™¨åŠå…¶æ§åˆ¶ç”µè·¯çš„å¾®å‹è®¾å¤‡ã€‚å­˜å‚¨å™¨æ˜¯ä¸€ç§åˆ©ç”¨åŠå¯¼ä½“ã€ç£æ€§ä»‹è´¨ç­‰æŠ€æœ¯åˆ¶æˆçš„å­˜å‚¨èµ„æ–™çš„ç”µå­è®¾å¤‡ï¼Œå…¶ç”µå­ç”µè·¯ä¸­çš„èµ„æ–™ä»¥äºŒè¿›åˆ¶æ–¹å¼å­˜å‚¨ã€‚å­˜å‚¨å™¨å¯åˆ†ä¸ºå†…éƒ¨å­˜å‚¨å™¨ï¼ˆå³ä¸»å­˜å‚¨å™¨ï¼‰å’Œå¤–éƒ¨å­˜å‚¨å™¨ã€‚è®¡ç®—æœºåŒ…å«äº†å¤§é‡å¦‚è§¦å‘å™¨çš„ç”µè·¯ç”¨äºå­˜å‚¨æ•°æ®ï¼Œæ¯ä¸€ä¸ªç”µè·¯èƒ½å­˜å‚¨ä¸€ä¸ªä½ï¼Œè¿™ç§ä½å­˜å‚¨å™¨å°±æ˜¯è®¡ç®—æœºçš„ä¸»å­˜å‚¨å™¨ã€‚ä¸ºäº†åŒºåˆ†è®¡ç®—æœºä¸»å­˜å‚¨å™¨ä¸­çš„ä¸ªå­˜å‚¨å•å…ƒï¼Œæ¯ä¸ªå­˜å‚¨å•å…ƒéƒ½è¢«èµ‹äºˆäº†å”¯ä¸€çš„â€œåå­—â€ï¼Œå³åœ°å€[2]ï¼ŒCPUå¯ä»¥ç›´æ¥é€šè¿‡å¯»å€æ‰¾åˆ°ä¸»å­˜ä¸­çš„å†…å®¹ã€‚å†…éƒ¨å­˜å‚¨å™¨çš„ç‰¹ç‚¹æ˜¯è¯»å†™é€Ÿåº¦å¿«ï¼Œä½†ç¼ºç‚¹å°±æ˜¯å…·æœ‰ä¸€å®šçš„ä¸ç¨³å®šæ€§ä¸”å®¹é‡è¾ƒå°ï¼Œå› æ­¤æœ‰äº†å®¹é‡å¤§ä¸”æ›´ç¨³å®šçš„å¤–éƒ¨å­˜å‚¨å™¨ï¼Œä¾‹å¦‚ç¡¬ç›˜ã€CDç›˜ã€DVDç›˜ç­‰ã€‚æœºæ¢°ç¡¬ç›˜ã€CDç›˜ã€DVDç›˜ç­‰å¤–éƒ¨å­˜å‚¨å™¨éƒ½æ˜¯é€šè¿‡é«˜é€Ÿæ—‹è½¬å­˜å‚¨ç›˜æ¥è¿›è¡Œè¯»å†™æ•°æ®ï¼ŒåŸºäºç£æŠ€æœ¯å’Œå…‰æŠ€æœ¯çš„å¤–éƒ¨å­˜å‚¨å™¨è¯»å†™æ•°æ®ä¸€èˆ¬é€šè¿‡æœºæ¢°è¿åŠ¨æ¥å®ç°ï¼Œå› æ­¤æœ‰ç€è¯»å†™é€Ÿåº¦æ…¢ç”šè‡³æœºæ¢°å…ƒä»¶æ˜“æ•…éšœçš„ç¼ºç‚¹ï¼Œè€Œé—ªå­˜æŠ€æœ¯å°±è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œåœ¨é—ªå­˜ç³»ç»Ÿä¸­ï¼ŒäºŒè¿›åˆ¶ä½æ˜¯ç”±ç”µå­ä¿¡å·ç›´æ¥å‘é€åˆ°å­˜å‚¨ä»‹è´¨ä¸­çš„ï¼Œç”µå­ä¿¡å·ä½¿è¯¥ä»‹è´¨ä¸­çš„äºŒæ°§åŒ–ç¡…å¾®å°æ™¶æ ¼æˆªè·ç”µå­ï¼Œä»è€Œè½¬æ¢å¾®ç”µå­ç”µè·¯çš„æ€§è´¨è¿›è¡Œå­˜å‚¨[2]ã€‚ä¸ç£ç³»ç»Ÿå’Œå…‰ç³»ç»Ÿä¸åŒï¼Œé—ªå­˜å¯¹ç‰©ç†éœ‡åŠ¨ä¸æ•æ„Ÿï¼Œå› æ­¤ï¼ŒåŸºäºé—ªå­˜æŠ€æœ¯çš„å›ºæ€ç¡¬ç›˜å·²é€æ­¥å–ä»£äº†åŸºäºç£ç³»ç»Ÿçš„æœºæ¢°ç¡¬ç›˜ã€‚</p>
<p>è®¡ç®—æœºä¸­æ‰§è¡Œå„ç§ç®—æ•°å’Œé€»è¾‘è¿ç®—çš„éƒ¨ä»¶è¢«ç§°ä¸ºè¿ç®—å™¨ï¼Œå¯ä»¥æ‰§è¡ŒåŠ ã€å‡ã€ä¹˜ã€é™¤å››åˆ™è¿ç®—åŠä¸ã€æˆ–ã€éã€å¼‚æˆ–ç­‰é€»è¾‘æ“ä½œã€‚è¿ç®—å™¨ç”±ç®—æ•°é€»è¾‘å•å…ƒï¼ˆALUï¼‰ã€ç´¯åŠ å™¨ã€çŠ¶æ€å¯„å­˜å™¨ã€é€šç”¨å¯„å­˜å™¨ç­‰ç»„æˆã€‚è¿ç®—å™¨çš„æ“ä½œå’Œæ“ä½œç§ç±»ç”±æ§åˆ¶å™¨å†³å®šï¼Œè€Œå¤„ç†çš„æ•°æ®æ¥è‡ªå­˜å‚¨å™¨ï¼Œå¤„ç†åçš„ç»“æœæˆ–é€å›å¯„å­˜å™¨ï¼Œæˆ–å¯„å­˜åœ¨è¿ç®—å™¨ä¸­ã€‚</p>
<p>è®¡ç®—æœºä¸­æŒ‰ç…§é¢„å®šé¡ºåºæ”¹å˜ä¸»ç”µè·¯æˆ–æ§åˆ¶ç”µè·¯ä¸­ç”µé˜»å€¼æ¥æ§åˆ¶ç”µåŠ¨æœºçš„å¯åŠ¨ã€è°ƒé€Ÿã€åˆ¶åŠ¨å’Œåå‘çš„ä¸»ä»¤è£…ç½®è¢«ç§°ä¸ºæ§åˆ¶å™¨ï¼Œç”±ç¨‹åºè®¡æ•°å™¨ã€æŒ‡ä»¤å¯„å­˜å™¨ã€æŒ‡ä»¤è¯‘ç å™¨ã€æ—¶åºäº§ç”Ÿå™¨å’Œæ“ä½œæ§åˆ¶å™¨ç»„æˆï¼Œæ˜¯å‘å¸ƒå‘½ä»¤çš„â€œå†³ç­–æœºæ„â€ï¼Œå³å®Œæˆåè°ƒå’ŒæŒ‡æŒ¥æ•´ä¸ªè®¡ç®—æœºç³»ç»Ÿçš„æ“ä½œã€‚æ§åˆ¶å™¨æ˜¯ç”¨æ¥å¤„ç†è®¡ç®—æœºä¸å…¶ä»–è®¾å¤‡çš„é€šä¿¡çš„ä¸­é—´è®¾å¤‡ï¼Œæ˜¯é€šè¿‡ç”µç¼†ä¸è®¡ç®—æœºæœºç®±é‡Œçš„å¤–å›´è®¾å¤‡æˆ–è€…æ˜¯ä¸è®¡ç®—æœºèƒŒé¢çš„ç«¯å£ç›¸è¿æ¥çš„ã€‚<br>è¾“å…¥è®¾å¤‡æ˜¯å‘è®¡ç®—æœºè¾“å…¥æ•°æ®å’Œä¿¡æ¯çš„è®¾å¤‡ï¼Œæ˜¯è®¡ç®—æœºä¸ç”¨æˆ·æˆ–å…¶ä»–è®¾å¤‡é€šä¿¡çš„æ¡¥æ¢ï¼Œæ˜¯ç”¨æˆ·å’Œè®¡ç®—æœºç³»ç»Ÿä¹‹é—´è¿›è¡Œä¿¡æ¯äº¤æ¢çš„ä¸»è¦è£…ç½®ä¹‹ä¸€ï¼ŒåŒ…æ‹¬é”®ç›˜ã€é¼ æ ‡ç­‰ã€‚</p>
<p>è¾“å‡ºè®¾å¤‡æ˜¯è®¡ç®—æœºç¡¬ä»¶ç³»ç»Ÿçš„ç»ˆç«¯è®¾å¤‡ï¼Œç”¨äºæ¥æ”¶è®¡ç®—æœºæ•°æ®çš„è¾“å‡ºæ˜¾ç¤ºã€æ‰“å°ã€å£°éŸ³ã€æ§åˆ¶å¤–å›´è®¾å¤‡æ“ä½œç­‰ï¼Œå¯ä»¥æŠŠå„ç§è®¡ç®—ç»“æœæ•°æ®æˆ–ä¿¡æ¯ä»¥æ•°å­—ã€å­—ç¬¦ã€å›¾åƒã€å£°éŸ³ç­‰å½¢å¼è¡¨ç°å‡ºæ¥ï¼Œä¾‹å¦‚æ˜¾ç¤ºå™¨ã€æ‰“å°æœºã€å½±åƒè¾“å‡ºç³»ç»Ÿã€è¯­éŸ³è¾“å‡ºç³»ç»Ÿç­‰ã€‚</p>
<h3 id="æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç½‘ç»œåŠæ•°æ®åº“ç®¡ç†ç³»ç»Ÿ"><a href="#æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç½‘ç»œåŠæ•°æ®åº“ç®¡ç†ç³»ç»Ÿ" class="headerlink" title="æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç½‘ç»œåŠæ•°æ®åº“ç®¡ç†ç³»ç»Ÿ"></a>æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç½‘ç»œåŠæ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</h3><p>æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç½‘ç»œåŠæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼š<br>æ“ä½œç³»ç»Ÿï¼ˆOSï¼‰æ˜¯ç®¡ç†è®¡ç®—æœºç¡¬ä»¶ä¸è½¯ä»¶èµ„æºçš„è®¡ç®—æœºç¨‹åºï¼Œæ˜¯è®¡ç®—æœºæœ€åŸºæœ¬ä¹Ÿæ˜¯æœ€ä¸ºé‡è¦çš„åŸºç¡€æ€§ç³»ç»Ÿè½¯ä»¶ï¼Œä¾‹å¦‚æœ€è‘—åçš„Windowsã€Linuxç­‰ï¼Œæ“ä½œç³»ç»Ÿéœ€è¦å¤„ç†å¦‚ç®¡ç†ä¸é…ç½®å†…å­˜ã€å†³å®šç³»ç»Ÿèµ„æºä¾›éœ€çš„ä¼˜å…ˆæ¬¡åºã€æ§åˆ¶è¾“å…¥è¾“å‡ºè®¾å¤‡ã€æ“ä½œç½‘ç»œä¸ç®¡ç†æ–‡ä»¶ç³»ç»Ÿç­‰åŸºæœ¬äº‹åŠ¡ï¼Œç”¨äºæä¾›ç»™ç”¨æˆ·ä¸€ä¸ªä¸ç³»ç»Ÿäº¤äº’çš„æ“ä½œç•Œé¢ã€‚æ“ä½œç³»ç»Ÿé€šå¸¸ç”±ç”¨æˆ·ç•Œé¢å’Œå†…æ ¸ç»„æˆï¼Œç”¨æˆ·ç•Œé¢è´Ÿè´£ä¸ç”¨æˆ·è¿›è¡Œé€šä¿¡ï¼Œå†…æ ¸åŒ…å«ç€å®Œæˆè®¡ç®—æœºå®‰è£…æ‰€éœ€çš„æåŸºæœ¬åŠŸèƒ½çš„è½¯ä»¶ç»„ä»¶ã€‚ç”¨æˆ·é€šè¿‡æ“ä½œç³»ç»Ÿçš„åè°ƒä¸è®¡ç®—æœºè¿›è¡Œäº¤äº’ã€‚</p>
<p>è®¡ç®—æœºç½‘ç»œï¼Œç®€ç§°ä¸ºç½‘ç»œï¼Œæ˜¯æŒ‡å®¹è®¸èŠ‚ç‚¹åˆ†äº«èµ„æºçš„æ•°å­—ç”µä¿¡ç½‘ç»œã€‚è®¡ç®—æœºç½‘ç»œé€šå¸¸åˆ†ä¸ºä¸ªåŸŸç½‘ï¼ˆPANï¼‰ã€å±€åŸŸç½‘ï¼ˆLANï¼‰ã€åŸåŸŸç½‘ï¼ˆMANï¼‰å’Œå¹¿åŸŸç½‘ï¼ˆWANï¼‰ã€‚ä¸ºäº†ç½‘ç»œè¿è¡Œå¯é è€Œå»ºç«‹çš„ç”¨äºç®¡ç†ç½‘ç»œæ´»åŠ¨çš„è§„åˆ™è¢«ç§°ä¸ºåè®®ï¼Œç”±äºå› ç‰¹ç½‘ä¸ºå¼€æ”¾å¼ç½‘ç»œï¼Œæ‰€ä»¥éœ€è¦ä¸€äº›é€šè¿‡ä¸€äº›æ ‡å‡†æ‰èƒ½ä½¿ä¸åŒå‚å•†çš„è®¾å¤‡å’Œè½¯ä»¶ä¸€èµ·æ­£å¸¸è¿è¡Œï¼ŒTCP/IPåè®®ç°‡æ˜¯å› ç‰¹ç½‘æ‰€ä½¿ç”¨çš„åè®®æ ‡å‡†çš„é›†åˆã€‚ä¸€ä¸ªå› ç‰¹ç½‘éœ€è¦ä¸€ä¸ªäº’è”ç½‘èŒƒå›´çš„ç¼–å€ç³»ç»Ÿï¼Œä¸ºè¯¥ç³»ç»Ÿå†…çš„æ¯å°è®¡ç®—æœºåˆ†é…ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†åœ°å€ï¼Œå³IPåœ°å€ï¼Œä½†ç”±äºæ­¤ç§ä»¥ä½æ¨¡å¼è¡¨ç¤ºçš„åœ°å€éš¾ä»¥è®°å¿†ï¼Œå› æ­¤å‡ºç°äº†å¦ä¸€ç§åŸºäºåŸŸçš„ç¼–åˆ¶ç³»ç»Ÿï¼ŒåŸŸåæ˜¯ç”±ä¸€ä¸²ç”¨ç‚¹åˆ†éš”çš„åå­—ç»„æˆçš„å› ç‰¹ç½‘ä¸ŠæŸä¸€å°è®¡ç®—æœºæˆ–è®¡ç®—æœºç»„çš„åç§°ï¼Œç”¨äºåœ¨æ•°æ®ä¼ è¾“æ—¶æ ‡è¯†è®¡ç®—æœºçš„ç”µå­æ–¹ä½[4]ï¼Œç„¶åé€šè¿‡DNSæœåŠ¡å™¨è§£æåŸŸåå¾—åˆ°IPåœ°å€ã€‚ä¸‡ç»´ç½‘é¢ä¸–åï¼Œè¿™ç§åŸŸåç¼–åˆ¶ç³»ç»Ÿå¾—åˆ°äº†å¹¿æ³›åº”ç”¨ï¼Œäººä»¬é€šè¿‡URLå³å¯å¿«é€Ÿè®¿é—®æœåŠ¡å™¨è·å–ä¿¡æ¯ã€‚</p>
<p>æ•°æ®åº“æ˜¯æŒ‡ä¸€ç§å¤šç»´çš„æ•°æ®é›†åˆï¼Œä¸åŒäºä¸€ç»´çš„å¹³é¢æ–‡ä»¶åªèƒ½ä»ä¸€ä¸ªè§’åº¦æ¥å±•ç¤ºä¿¡æ¯ï¼Œåœ¨æ•°æ®åº“ä¸­å¯ä»¥é€šè¿‡å¤šä¸ªæ•°æ®é¡¹ä¹‹é—´çš„å†…éƒ¨é“¾æ¥ä»å¤šä¸ªè§’åº¦æ¥è·å–ä¿¡æ¯ã€‚æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ˜¯ä¸€ç§æ“çºµå’Œç®¡ç†æ•°æ®åº“çš„å¤§å‹è½¯ä»¶ï¼Œç”¨äºå»ºç«‹ã€ä½¿ç”¨å’Œç»´æŠ¤æ•°æ®åº“ï¼Œå®ƒå¯¹æ•°æ®åº“è¿›è¡Œç»Ÿä¸€çš„ç®¡ç†å’Œæ§åˆ¶ï¼Œä»¥ä¿è¯æ•°æ®åº“çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§[5]ã€‚</p>
<h3 id="ç¨‹åºè®¾è®¡è¯­è¨€åŠç®—æ³•"><a href="#ç¨‹åºè®¾è®¡è¯­è¨€åŠç®—æ³•" class="headerlink" title="ç¨‹åºè®¾è®¡è¯­è¨€åŠç®—æ³•"></a>ç¨‹åºè®¾è®¡è¯­è¨€åŠç®—æ³•</h3><p>ç¨‹åºè®¾è®¡è¯­è¨€åŠç®—æ³•ï¼š<br>ç¨‹åºè®¾è®¡è¯­è¨€æ˜¯ç”¨æ¥å®šä¹‰è®¡ç®—æœºç¨‹åºçš„å½¢å¼è¯­è¨€ã€‚å®ƒæ˜¯ä¸€ç§è¢«æ ‡å‡†åŒ–çš„äº¤æµæŠ€å·§ï¼Œç”¨æ¥å‘è®¡ç®—æœºå‘å‡ºæŒ‡ä»¤ã€‚ä¸€ç§èƒ½å¤Ÿè®©ç¨‹åºå‘˜å‡†ç¡®åœ°å®šä¹‰è®¡ç®—æœºæ‰€éœ€è¦ä½¿ç”¨æ•°æ®çš„è®¡ç®—æœºè¯­è¨€ï¼Œå¹¶ç²¾ç¡®åœ°å®šä¹‰åœ¨ä¸åŒæƒ…å†µä¸‹æ‰€åº”å½“é‡‡å–çš„è¡ŒåŠ¨ã€‚è¯­è¨€çš„åŸºç¡€æ˜¯ä¸€ç»„è®°å·å’Œä¸€ç»„è§„åˆ™ï¼Œæ ¹æ®è§„åˆ™ç”±è®°å·æ„æˆçš„è®°å·ä¸²çš„æ€»ä½“å°±æ˜¯ç¨‹åºã€‚ç¨‹åºè®¾è®¡è¯­è¨€çš„æè¿°ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºè¯­æ³•åŠè¯­ä¹‰ã€‚è¯­æ³•æ˜¯è¯´æ˜ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå“ªäº›ç¬¦å·æˆ–æ–‡å­—çš„ç»„åˆæ–¹å¼æ˜¯æ­£ç¡®çš„ï¼Œè¯­ä¹‰åˆ™æ˜¯å¯¹äºç¼–ç¨‹çš„è§£é‡Š[3]ã€‚è™½ç„¶ç¨‹åºè®¾è®¡è¯­è¨€çš„ç§ç±»åƒå·®ä¸‡åˆ«ï¼Œä½†ä¸€èˆ¬åŸºæœ¬æˆåˆ†åˆ†ä¸ºå››ç§ï¼Œæ•°æ®æˆåˆ†ï¼šç”¨ä»¥æè¿°ç¨‹åºä¸­æ‰€æ¶‰åŠçš„æ•°æ®ï¼›è¿ç®—æˆåˆ†ï¼šç”¨ä»¥æè¿°ç¨‹åºä¸­æ‰€åŒ…å«çš„è¿ç®—ï¼›æ§åˆ¶æˆåˆ†ï¼šç”¨ä»¥è¡¨è¾¾ç¨‹åºä¸­çš„æ§åˆ¶æ„é€ ï¼›ä¼ è¾“æˆåˆ†ï¼šç”¨ä»¥è¡¨è¾¾ç¨‹åºä¸­æ•°æ®çš„ä¼ è¾“ã€‚ä»å‘å±•å†ç¨‹æ¥çœ‹ï¼Œç¨‹åºè®¾è®¡è¯­è¨€å¯åˆ†ä¸ºå››ä»£ã€‚ç¬¬ä¸€ä»£æœºå™¨è¯­è¨€ï¼Œæœºå™¨è¯­è¨€ç”±äºŒè¿›åˆ¶0ã€1ä»£ç æŒ‡ä»¤æ„æˆï¼Œä¸åŒçš„CPUå…·æœ‰ä¸åŒçš„æŒ‡ä»¤ç³»ç»Ÿï¼Œæœºå™¨è¯­è¨€ç¨‹åºéš¾ç¼–å†™ã€éš¾ä¿®æ”¹ã€éš¾ç»´æŠ¤ï¼Œä¸”ç¼–ç¨‹æ•ˆç‡æä½ï¼Œå·²æ¸æ¸è¢«æ·˜æ±°ã€‚ç¬¬äºŒä»£æ±‡ç¼–è¯­è¨€ï¼Œæ±‡ç¼–è¯­è¨€æŒ‡ä»¤æ˜¯æœºå™¨æŒ‡ä»¤çš„ç¬¦å·åŒ–ï¼Œä¸æœºå™¨æŒ‡ä»¤å­˜åœ¨ç€ç›´æ¥çš„å¯¹åº”å…³ç³»ï¼ŒåŒæ ·çš„æ±‡ç¼–è¯­è¨€åŒæ ·å­˜åœ¨éš¾å­¦éš¾ç”¨ã€å®¹æ˜“å‡ºé”™ã€ç»´æŠ¤å›°éš¾ç­‰ç¼ºç‚¹ã€‚ä½†å…¶ä¹Ÿå­˜åœ¨è‡ªå·±çš„ä¼˜ç‚¹ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ç³»ç»Ÿæ¥å£ï¼Œæ±‡ç¼–è¯­è¨€ç¿»è¯‘æˆçš„æœºå™¨è¯­è¨€ç¨‹åºçš„æ•ˆç‡é«˜ã€‚ç¬¬ä¸‰ä»£é«˜çº§è¯­è¨€ï¼Œé«˜çº§è¯­è¨€æ˜¯é¢å‘ç”¨æˆ·çš„ã€åŸºæœ¬ä¸Šç‹¬ç«‹äºè®¡ç®—æœºç§ç±»å’Œç»“æ„çš„è¯­è¨€ã€‚å…¶æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯å½¢å¼ä¸Šæ¥è¿‘ç®—æœ¯è¯­è¨€å’Œè‡ªç„¶è¯­è¨€ï¼Œæ¦‚å¿µä¸Šæ¥è¿‘äºäººä»¬é€šå¸¸ä½¿ç”¨çš„æ¦‚å¿µã€‚å› æ­¤ï¼Œé«˜çº§è¯­è¨€æ˜“å­¦æ˜“ç”¨ï¼Œé€šç”¨æ€§å¼ºï¼Œåº”ç”¨å¹¿æ³›ã€‚</p>
<p>ç®—æ³•æ˜¯ä¸€ç»„æ˜ç¡®çš„ã€å¯æ‰§è¡Œçš„æ­¥éª¤çš„æœ‰åºé›†åˆï¼Œåœ¨æœ‰é™çš„æ—¶é—´å†…ç»ˆæ­¢å¹¶äº§ç”Ÿç»“æœã€‚ç®—æ³•æ˜¯ç”¨æ¥è®¡ç®—çš„å·¥å…·ï¼Œç®—æ³•çš„æ ¸å¿ƒæ˜¯åˆ›å»ºé—®é¢˜æŠ½è±¡çš„æ¨¡å‹å’Œæ˜ç¡®æ±‚è§£ç›®æ ‡ï¼Œä¹‹åå¯ä»¥æ ¹æ®å…·ä½“çš„é—®é¢˜é€‰æ‹©ä¸åŒçš„æ¨¡å¼å’Œæ–¹æ³•å®Œæˆç®—æ³•çš„è®¾è®¡ã€‚åœ¨è®¡ç®—æœºç§‘å­¦ä¸­æœ‰è®¸å¤šä¾¿æ·çš„ç®—æ³•ï¼Œåœ¨å¤„ç†é—®é¢˜æ—¶é€‰å¯¹ç®—æ³•ä¼šä½¿è§£å†³è¿‡ç¨‹å˜å¾—æ›´åŠ ç®€æ´ã€‚</p>
<h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>å››ã€æ€»ç»“<br>21ä¸–çºªæ˜¯ä¿¡æ¯é«˜åº¦å‘è¾¾çš„æ—¶ä»£ï¼Œå› æ­¤ä¿¡æ¯çš„é‡è¦æ€§éåŒä»¥å¾€ï¼Œè¦æ„å»ºä¿¡æ¯å®‰å…¨çš„ç¤¾ä¼šè¿˜å¾ˆé¥è¿œï¼Œå¯èƒ½éœ€è¦å¤šä»£äººçš„åŠªåŠ›ï¼Œè€Œç°ä»Šçš„æ¥åŠ›æ£’å°±æ¡åœ¨æˆ‘ä»¬æ‰‹ä¸­ï¼Œç¤¾ä¼šæ›´éœ€è¦çš„æ˜¯å¤šæ–¹é¢çš„äººæ‰ï¼Œä¸ä»…è¦å­¦ä¹ ä¿¡æ¯æ–¹é¢çš„çŸ¥è¯†ï¼Œè®¡ç®—æœºåŸºç¡€ç†è®ºçŸ¥è¯†ç­‰åŒæ ·ä¸èƒ½èˆå¼ƒã€‚</p>
<h2 id="å‚-è€ƒ-æ–‡-çŒ®"><a href="#å‚-è€ƒ-æ–‡-çŒ®" class="headerlink" title="å‚   è€ƒ   æ–‡   çŒ®"></a>å‚   è€ƒ   æ–‡   çŒ®</h2><p>[1]    æ²ˆæ˜Œç¥¥ï¼Œå¼ ç„•å›½ï¼Œå†¯ç™»å›½ï¼Œæ›¹çå¯Œï¼Œé»„ç»§æ­¦ . ä¿¡æ¯å®‰å…¨ç»¼è¿°[J]. ä¸­å›½ç§‘å­¦Eè¾‘ï¼šä¿¡æ¯ç§‘å­¦. 2007,ç¬¬37å·ï¼ˆ2ï¼‰ï¼š129~150<br>[2]    åˆ˜è‰ºï¼Œå´è‹±ï¼Œæ¯›å€©å€©ï¼ˆè¯‘ï¼‰. è®¡ç®—æœºç§‘å­¦æ¦‚è®º[M]. ç¬¬12ç‰ˆ. åŒ—äº¬ï¼šäººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾ï¼Œ2017<br>[3]    èŒƒå›½æ³°. è¯­è¨€ç³»ç»Ÿç®€ä»‹[EB/OL]. <a href="https://web.archive.org/">https://web.archive.org</a>ï¼Œ2014-06-05<br>[4]    è°¢ä»åï¼Œé«˜è•´æ¢…ï¼Œé»„æ™“å. Webç³»ç»Ÿä¸æŠ€æœ¯[M]. åŒ—äº¬ï¼šæ¸…åå¤§å­¦å‡ºç‰ˆç¤¾ï¼Œ2018<br>[5]    èµµé™. æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ç°çŠ¶åŠå‘å±•æ–¹å‘[J]. ç”µè„‘ç¼–ç¨‹æŠ€å·§ä¸ç»´æŠ¤. 2009ï¼Œ12</p>
]]></content>
      <categories>
        <category>è®¡ç®—æœºç§‘å­¦</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç§‘å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitå­¦ä¹ è®°å½•</title>
    <url>/2021/04/17/Git%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h1 id="Gitå­¦ä¹ è®°å½•"><a href="#Gitå­¦ä¹ è®°å½•" class="headerlink" title="Gitå­¦ä¹ è®°å½•"></a>Gitå­¦ä¹ è®°å½•</h1><p>èŒæ–°åœ¨çº¿å˜¤å˜¤å˜¤</p>
<span id="more"></span>
<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><ol>
<li><code>git clone URL</code><blockquote>
<p>ä»è¯¥URLä¸‹è½½æ–‡ä»¶</p>
</blockquote>
<ul>
<li><code>git clone --depth 1 URL</code><blockquote>
<p>ä»è¯¥URLä¸‹è½½æœ€æ–°ç‰ˆæœ¬æ–‡ä»¶</p>
</blockquote>
</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>å¼€å‘</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>Web-wp</title>
    <url>/2021/04/16/Web-wp/</url>
    <content><![CDATA[<p>æ­ªè„–çš„è¾¾ä¸æºœå±</p>
<span id="more"></span>

<h1 id="ctfshow"><a href="#ctfshow" class="headerlink" title="ctfshow"></a>ctfshow</h1><h2 id="webå…¥é—¨"><a href="#webå…¥é—¨" class="headerlink" title="webå…¥é—¨"></a>webå…¥é—¨</h2><h3 id="ä¿¡æ¯æœé›†"><a href="#ä¿¡æ¯æœé›†" class="headerlink" title="ä¿¡æ¯æœé›†"></a>ä¿¡æ¯æœé›†</h3><h4 id="web1"><a href="#web1" class="headerlink" title="web1"></a>web1</h4><p>ç®€å•çš„f12</p>
<h4 id="web2"><a href="#web2" class="headerlink" title="web2"></a>web2</h4><p>æ‰“å¼€é¡µé¢æç¤ºæ— æ³•æŸ¥çœ‹æºä»£ç  è¿·æƒ‘.jpg</p>
<p>æˆ‘ä¸€ä¸‹å°±æ‰“å¼€äº†ï¼Œå¾ˆå¿«å•Š</p>
<p>çœ‹äº†ä¸‹hintï¼Œgetæ–°çŸ¥è¯†ï¼Œåœ¨URLå¤´éƒ¨æ·»åŠ <code>view-source:</code>å³å¯æŸ¥çœ‹æºç </p>
<p>ï¼ˆåŸæ¥æ˜¯ç¦ç”¨äº†å³é”®ï¼Œä¹ æƒ¯ç”¨å¿«æ·é”®çœŸæ˜¯ä¸å¥½æ„è¥¿:-)</p>
<h4 id="web3"><a href="#web3" class="headerlink" title="web3"></a>web3</h4><p>bpæŠ“åŒ…ï¼Œflagåœ¨è¿”å›åŒ…é‡Œ</p>
<h4 id="web4"><a href="#web4" class="headerlink" title="web4"></a>web4</h4><p>æ‰“å¼€robots.txtï¼Œå¾—åˆ°ä¸€ä¸ªflagishere.txtï¼Œæ‰“å¼€<code>/flagishere.txt</code>ï¼Œå¾—åˆ°flag</p>
<h4 id="web5"><a href="#web5" class="headerlink" title="web5"></a>web5</h4><p>åœ¨URLå°¾éƒ¨è¾“å…¥<code>/index.phps</code>ï¼Œå¾—åˆ°phpsæ–‡ä»¶ï¼Œæ‰“å¼€å¾—åˆ°flag</p>
<h4 id="web6"><a href="#web6" class="headerlink" title="web6"></a>web6</h4><p>æç¤ºåº”è¯¥æ˜¯æºç æ³„éœ²ï¼Œç”¨dirsearchæ‰«äº†ä¸€ä¸‹å‘ç°<code>www.zip</code>ï¼Œä¸‹è½½åˆ°æœ¬åœ°å¾—åˆ°ä¸€ä¸ªfl000g.txtæ–‡ä»¶ï¼Œæ‰“å¼€å¾—åˆ°ä¸ªflag{flag_here}ï¼Œæäº¤é”™è¯¯</p>
<p>â€¦åŸæ¥æ˜¯ä¸ªå‡flagï¼Œåœ¨URLå°¾éƒ¨è¾“å…¥<code>/fl000g.txt</code>å¾—åˆ°çœŸflag</p>
<h4 id="web7"><a href="#web7" class="headerlink" title="web7"></a>web7</h4><p>æ ¹æ®æç¤ºæ„Ÿè§‰åº”è¯¥æ˜¯gitæ³„éœ²ï¼ŒURLå°¾éƒ¨æ·»åŠ <code>/.git/</code>ï¼Œå¾—åˆ°flag</p>
<h4 id="web8"><a href="#web8" class="headerlink" title="web8"></a>web8</h4><p>gitæ³„éœ²éƒ½è€ƒäº†ï¼Œåº”è¯¥å°±æ˜¯svnäº†ï¼ŒURLå°¾éƒ¨æ·»åŠ <code>/.svn/</code>ï¼Œå¾—åˆ°flag</p>
<h1 id="bugku"><a href="#bugku" class="headerlink" title="bugku"></a>bugku</h1><h2 id="web1-1"><a href="#web1-1" class="headerlink" title="web1"></a>web1</h2><p>â€¦æ»‘ç¨½è„¸<br><img src="https://z3.ax1x.com/2021/04/16/cf8LQK.jpg" style="zoom: 25%;"><br>F12æ‰“å¼€æºç ï¼Œæ‰¾åˆ°flag</p>
<h2 id="web2-1"><a href="#web2-1" class="headerlink" title="web2"></a>web2</h2><p>æ˜¯ä¸€ä¸ªå¡«å†™éªŒè¯ç çš„è¾“å…¥æ¡†ï¼Œç„¶åå‘ç°æ— æ³•è¾“å…¥ä¸¤ä¸ªå­—ç¬¦ï¼ŒF12å®¡æŸ¥å…ƒç´ ï¼Œæœç„¶è¾“å…¥æ¡†é™åˆ¶äº†maxlengthï¼Œä¿®æ”¹maxlengthä¸º2å³å¯</p>
<h2 id="web3-1"><a href="#web3-1" class="headerlink" title="web3"></a>web3</h2><p>æ‰“å¼€åœºæ™¯æ˜¯ä¸€æ®µPHPä»£ç ï¼Œ</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$what</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;what&#x27;</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$what</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$what</span>==<span class="string">&#x27;flag&#x27;</span>)</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;flag&#123;****&#125;&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>å®¡è®¡ï¼Œæ˜¯è¦é€šè¿‡getçš„æ–¹å¼æäº¤ä¸€ä¸ªå˜é‡<code>what=flag</code>ï¼Œ<br>åœ¨åœ°å€æ è¾“å…¥<code>http://114.67.246.176:16477/?what=flag</code>å³å¯å¾—åˆ°flag</p>
<h2 id="web4-1"><a href="#web4-1" class="headerlink" title="web4"></a>web4</h2><p>æ‰“å¼€åœºæ™¯åˆæ˜¯ä¸€æ®µPHPä»£ç ï¼Œ</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$what</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;what&#x27;</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$what</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$what</span>==<span class="string">&#x27;flag&#x27;</span>)</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;flag&#123;****&#125;&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>å®¡è®¡ï¼Œæ˜¯è¦é€šè¿‡postçš„æ–¹å¼æäº¤ä¸€ä¸ªå˜é‡<code>what=flag</code>,é€šè¿‡hackbar postä¸€ä¸‹å³å¯</p>
<h2 id="web5-1"><a href="#web5-1" class="headerlink" title="web5"></a>web5</h2><p>æ‰“å¼€åœºæ™¯åˆæ˜¯ä¸€æ®µPHPä»£ç ï¼Œ</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$num</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;num&#x27;</span>];</span><br><span class="line"><span class="keyword">if</span>(!is_numeric(<span class="variable">$num</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$num</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$num</span>==<span class="number">1</span>)</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;flag&#123;**********&#125;&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®¡è®¡ï¼Œæ˜¯å¼±ç±»å‹æ¯”è¾ƒï¼Œè¦æ±‚numå˜é‡æ—¢ä¸æ˜¯æ•°å­—åˆæ»¡è¶³ç­‰äº1çš„æ¡ä»¶ï¼Œæ‰€ä»¥åœ¨1åé¢åŠ ä¸€ä¸ªå­—æ¯å³å¯<br>é€šè¿‡getæ–¹å¼æäº¤<code>http://114.67.246.176:12222/?num=1a</code><br>å¾—åˆ°flag</p>
<h2 id="web6-1"><a href="#web6-1" class="headerlink" title="web6"></a>web6</h2><p>æ‰“å¼€åœºæ™¯ä¸€å †å¼¹çª—ï¼Œå…³éƒ½å…³ä¸å®Œï¼ŒæŸ¥çœ‹ç½‘é¡µæºç ï¼Œ<br><img src="https://z3.ax1x.com/2021/04/13/cyMAh9.png"><br>â€¦å‘ç°å†™äº†ä¸€å †alertâ€¦ç»äº†<br>åœ¨æœ€ä¸‹é¢å‘ç°äº†æ³¨é‡Šæ‰çš„ç¼–ç ï¼Œ<br><img src="https://z3.ax1x.com/2021/04/13/cyMunK.png"><br>æŸ¥äº†ä¸€ä¸‹æ˜¯Unicodeç¼–ç ï¼Œé€šè¿‡å·¥å…·Unicodeè½¬ASCIIå¾—åˆ°flag</p>
<h2 id="web7-1"><a href="#web7-1" class="headerlink" title="web7"></a>web7</h2><p>å¼¹çª—æç¤ºåœæ­¢ç½‘é¡µåˆ·æ–°å¯å¾—åˆ°flag<br>æŸ¥çœ‹ç½‘é¡µæºä»£ç ï¼Œå‘ç°<br><img src="https://z3.ax1x.com/2021/04/20/cH8KiT.jpg"><br>å¹¶ä¸”å‰é¢çš„å›¾ç‰‡å‘½åä¸ºnum.jpgï¼Œäºæ˜¯å°è¯•åˆ·æ–°ï¼Œå‘ç°å›¾ç‰‡numç¡®å®éšç€åˆ·æ–°æ”¹å˜ï¼Œç„¶åä¸æ–­åˆ·æ–°ï¼Œæœ€ååœ¨ä¸€æ¬¡åˆ·æ–°ååœˆåœˆçš„åœ°æ–¹å‡ºç°flag</p>
<h2 id="web8-1"><a href="#web8-1" class="headerlink" title="web8"></a>web8</h2><blockquote>
<p>PHPæš‚ç•¥</p>
</blockquote>
<h2 id="web9"><a href="#web9" class="headerlink" title="web9"></a>web9</h2><blockquote>
<p>PHPæš‚ç•¥</p>
</blockquote>
<h2 id="web-10"><a href="#web-10" class="headerlink" title="web 10"></a>web 10</h2><p>æ‰“å¼€é¡µé¢æ˜¾ç¤ºä»€ä¹ˆä¹Ÿæ²¡æœ‰ï¼Ÿä¿¡ä¸ªé¬¼<br>æ ¹æ®æè¿°å¤´ç­‰èˆ±ï¼Œè”æƒ³åˆ°æ¶ˆæ¯å¤´ï¼ŒBPæŠ“åŒ…ï¼Œåœ¨æ¶ˆæ¯å¤´ä¸­å¾—åˆ°flag</p>
]]></content>
      <categories>
        <category>CTF</category>
      </categories>
      <tags>
        <tag>CTF</tag>
      </tags>
  </entry>
  <entry>
    <title>NUAA CTF 2021 Web Write up</title>
    <url>/2021/04/10/NUAA%20CTF%202021%20WP/</url>
    <content><![CDATA[<h1 id="NUAA-CTF-2021-Web-Write-up"><a href="#NUAA-CTF-2021-Web-Write-up" class="headerlink" title="NUAA CTF 2021 Web Write up"></a>NUAA CTF 2021 Web Write up</h1><p>ç¬¬ä¸€åœºæ­£å¼çš„çš„CTFæ¯”èµ›WP</p>
<span id="more"></span>

<h2 id="ç­¾åˆ°é¢˜"><a href="#ç­¾åˆ°é¢˜" class="headerlink" title="ç­¾åˆ°é¢˜"></a>ç­¾åˆ°é¢˜</h2><p>æ‰“å¼€ç¯å¢ƒï¼ŒæŸ¥çœ‹ç½‘é¡µæºä»£ç ï¼Œå³å‘ç°flag<br><img src="https://img-blog.csdnimg.cn/20210328195900666.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SGFpcnNoZWVw,size_20,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="DDoSme"><a href="#DDoSme" class="headerlink" title="DDoSme"></a>DDoSme</h2><p>æ‰“å¼€ç¯å¢ƒï¼Œæç¤ºDo you kNow .swp file? ç›´æ¥ç™¾åº¦ï¼ŒæŸ¥åˆ°<br><img src="https://img-blog.csdnimg.cn/20210328204502583.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SGFpcnNoZWVw,size_64,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>äºæ˜¯çŸ¥é“ä¼šè¦ç”¨åˆ°Linux<br>ç”¨dirsearchæ‰«ä¸€ä¸‹ç½‘ç«™ç›®å½•ï¼Œå‘ç°äº†.index.php.swpæ–‡ä»¶</p>
<p><img src="https://img-blog.csdnimg.cn/20210328204551203.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SGFpcnNoZWVw,size_64,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>åœ°å€æ URLåé¢è¾“å…¥<code>.index.php.swp</code>ä¸‹è½½swpæ–‡ä»¶<br>è¿™ä¸ªæ—¶å€™ç”¨notepadæ‰“å¼€å‘ç°å…¨æ˜¯ä¹±ç ï¼Œç™¾åº¦å‘ç°<br><img src="https://img-blog.csdnimg.cn/20210328200950634.png"></p>
<p>äºæ˜¯å¤åˆ¶åˆ°Linuxè™šæ‹Ÿæœºä¸­ï¼Œ</p>
<p><img src="https://img-blog.csdnimg.cn/20210328204652570.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SGFpcnNoZWVw,size_64,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>å†<br><img src="https://img-blog.csdnimg.cn/20210328201104698.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>å¾—åˆ°è¿˜åŸåçš„PHPæ–‡ä»¶</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">areyouok</span>(<span class="params"><span class="variable">$greeting</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> preg_match(<span class="string">&#x27;/Baby.*PHP/is&#x27;</span>,<span class="variable">$greeting</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$greeting</span>=@<span class="variable">$_POST</span>[<span class="string">&#x27;greeting&#x27;</span>];</span><br><span class="line"><span class="keyword">if</span>(!is_array(<span class="variable">$greeting</span>))&#123;</span><br><span class="line">    <span class="keyword">if</span>(!areyouok(<span class="variable">$greeting</span>))&#123;</span><br><span class="line">        <span class="keyword">if</span>(strpos(<span class="variable">$greeting</span>,<span class="string">&#x27;Baby PHP&#x27;</span>)!==<span class="literal">false</span>)&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&#x27;flag&#123;xxxxxx&#125;&#x27;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&#x27;Do you kNow .swp file?&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;Do you know PHP?&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>emmmâ€¦PHPå­¦çš„è¿˜ä¸å¤šï¼Œçœ‹ä¸æ‡‚ï¼Œæœæ–­åº¦å¨˜ï¼Œå‘ç°â€¦â€¦ç«Ÿç„¶è·Ÿ18å¹´iæ˜¥ç§‹åœ£è¯æ¬¢ä¹èµ›é¢˜ä¸€æ ·â€¦åŸç†å°±æ˜¯pcreå…·æœ‰å›æº¯ä¸Šé™ï¼Œå½“å›æº¯è¶…è¿‡ä¸Šé™æ—¶è¿”å› falseï¼Œä»è€Œç»•è¿‡æ­£åˆ™åŒ¹é…å‡½æ•°(è™½ç„¶ä¿ºä¸æ‡‚ï¼Œä½†ä¿ºä¼šCVå¤§æ³•)<br>é“¾æ¥:<a href="https://www.jianshu.com/p/68f3c8e5d2b4">2018å¹´iæ˜¥ç§‹åœ£è¯æ¬¢ä¹èµ›Web WP</a><br>ç„¶åé€šè¿‡Pythonå†™ä¸ªè„šæœ¬ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> BytesIO</span><br><span class="line"></span><br><span class="line">files = &#123;</span><br><span class="line">  <span class="string">&#x27;greeting&#x27;</span>:(<span class="string">&#x27;Baby PHP&#x27;</span> + <span class="string">&#x27;a&#x27;</span> * <span class="number">1000000</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">res = requests.post(<span class="string">&#x27;http://server.cooook.icu:10003/index.php&#x27;</span>, data=files, allow_redirects=<span class="literal">False</span>)</span><br><span class="line">print(res.text)</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œä¹‹åï¼ŒæˆåŠŸæ‹¿åˆ°flag</p>
<p><img src="https://img-blog.csdnimg.cn/20210328204722851.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SGFpcnNoZWVw,size_32,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="easy-xss"><a href="#easy-xss" class="headerlink" title="easy_xss"></a>easy_xss</h2><p>çœ‹é¢˜ç›®çŸ¥é“æ˜¯xssè·¨ç«™è„šæœ¬æ¼æ´æ”»å‡»<br>é¢˜ç›®è¦æ±‚æ˜¯ï¼š<br><img src="https://img-blog.csdnimg.cn/20210328201752270.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ‰«äº†ä¸‹ç½‘ç«™<br><img src="https://img-blog.csdnimg.cn/20210328201935905.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>çœ‹åˆ°äº†upload.phpï¼Œè¯•äº†ä¸€ä¸‹emmmç¡®å®æ‰“ä¸å¼€<br>æ‰€ä»¥è¦ç™»å…¥ç®¡ç†å‘˜ç•Œé¢ï¼Œxssæ”»å‡»ï¼Œæƒ³åˆ°äº†çªƒå–cookieç»•è¿‡ç™»å½•ï¼Œ<br>è€Œä¸”æ­£å¥½ç‚¹å¼€Read sample postå‡ºç°äº†ç®¡ç†å‘˜å‘è¡¨çš„æ–‡ç« </p>
<p>ç„¶å..å°±å¡ä½äº†(ã£ Â°Ğ” Â°)ã£<br><img src="https://img-blog.csdnimg.cn/20210328204809754.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SGFpcnNoZWVw,size_64,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="base64"><a href="#base64" class="headerlink" title="base64"></a>base64</h2><p><img src="https://img-blog.csdnimg.cn/2021032821021262.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SGFpcnNoZWVw,size_32,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20210328210244539.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_SGFpcnNoZWVw,size_48,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>emmmâ€¦â€¦PHPï¼ŒBase64ï¼Œè¿™ä¿©åˆä¸€èµ·â€¦.çœ‹äº†åº¦å¨˜éƒ½çœ‹ä¸æ‡‚â€¦æ¯«æ— æ€è·¯</p>
<p>æ¯”å®Œèµ›ï¼Œæ„Ÿè§‰ æˆ‘æ˜¯åºŸç‰©ï¼ˆï¼›Â´Ğ´ï½€ï¼‰ã‚</p>
]]></content>
      <categories>
        <category>CTF</category>
      </categories>
      <tags>
        <tag>CTF</tag>
      </tags>
  </entry>
  <entry>
    <title>æ³¨å†Œè¡¨å¤§æ³•</title>
    <url>/2021/04/06/%E6%B3%A8%E5%86%8C%E8%A1%A8%E5%A4%A7%E6%B3%95/</url>
    <content><![CDATA[<p>æ³¨å†Œè¡¨å¤§æ³•DIYç”µè„‘æ°¸è¿œæ»´ç¥</p>
<span id="more"></span>
<h1 id="CMDçª—å£ä¿®æ”¹å­—ä½“"><a href="#CMDçª—å£ä¿®æ”¹å­—ä½“" class="headerlink" title="CMDçª—å£ä¿®æ”¹å­—ä½“"></a>CMDçª—å£ä¿®æ”¹å­—ä½“</h1><blockquote>
<p>CMDé»˜è®¤å­—ä½“é¢œå€¼æ— åŠ›åæ§½ï¼Œç”šè‡³è¿˜æœ‰1å’Œlã€0å’Œoåˆ†ä¸æ¸…çš„é—®é¢˜ï¼Œäºæ˜¯æ‰“ç®—ä¿®æ”¹ä¸€ä¸‹ï¼Œæ·»åŠ consolaså­—ä½“</p>
</blockquote>
<h2 id="æ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨"><a href="#æ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨" class="headerlink" title="æ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨"></a>æ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨</h2><p>é¦–å…ˆ<code>win+r</code>,<code>regedit</code>æ‰“å¼€</p>
<h2 id="æ‰¾åˆ°ä¿®æ”¹è·¯å¾„"><a href="#æ‰¾åˆ°ä¿®æ”¹è·¯å¾„" class="headerlink" title="æ‰¾åˆ°ä¿®æ”¹è·¯å¾„"></a>æ‰¾åˆ°ä¿®æ”¹è·¯å¾„</h2><p>æ‰“å¼€è·¯å¾„<code>è®¡ç®—æœº\HKEY_CURRENT_USER\Console</code><br>å†æ‰“å¼€<code>%SystemRoot%_system32_cmd.exe</code>é¡¹<br>å°†<code>CodePage</code>é”®å€¼åè¿›åˆ¶ä¿®æ”¹ä¸º<code>437</code><br><del>&gt; åŒç†ï¼Œä¿®æ”¹Dev-C++çª—å£çš„å­—ä½“ï¼Œåªéœ€æ‰“å¼€<code>D:_Dev-Cpp_ConsolePauser.exe</code>é¡¹ï¼Œä¿®æ”¹é”®å€¼å³å¯</del><br>ä¸è¦è¿™ä¹ˆæ”¹ï¼o(ï¿£â”°ï¿£*)ã‚<br>å¯¼è‡´äº†æˆ‘ä¸çŸ¥é“ä¸ºä»€ä¹ˆç¼–è¯‘ä¸äº†ç¨‹åºï¼Œäºæ˜¯é‡åšäº†ä¸€éç³»ç»Ÿâ€¦</p>
]]></content>
      <categories>
        <category>DIY</category>
      </categories>
      <tags>
        <tag>DIY</tag>
      </tags>
  </entry>
  <entry>
    <title>é—®é¢˜ç°¿</title>
    <url>/2021/04/05/%E9%97%AE%E9%A2%98%E7%B0%BF/</url>
    <content><![CDATA[<p>è®°å½•é‡åˆ°çš„ä¸€äº›æœ‰å‚è€ƒæ€§çš„é—®é¢˜</p>
<span id="more"></span>
<h1 id="2021"><a href="#2021" class="headerlink" title="2021"></a>2021</h1><h2 id="01-03"><a href="#01-03" class="headerlink" title="01~03"></a>01~03</h2><ol>
<li>æ­å»ºåšå®¢è¿‡ç¨‹ä¸­æ›´æ¢nextä¸»é¢˜ä¸Šä¼ å‡ºç°å¤§é‡æŠ¥é”™: <blockquote>
<p>æ£€æŸ¥å‘ç°æ˜¯å› ä¸ºnextçš„githubåœ°å€æ›´æ¢ï¼Œå¯¼è‡´gitå‘½ä»¤æ‰§è¡Œå¤±è´¥<br>æ›´æ¢åçš„URL: <a href="https://github.com/theme-next/hexo-theme-next">https://github.com/theme-next/hexo-theme-next</a></p>
</blockquote>
</li>
<li>kalié…ç½®é™æ€IPåæ— æ³•é‡å¯ç½‘ç»œæœåŠ¡: <blockquote>
<p>ç¿»äº†å¤§é‡çš„å¸–å­åè§£å†³äº†é—®é¢˜<br><code>root@test:~# ip addr flush dev eth0 &amp;&amp; /etc/init.d/networking restart</code><br>æ‰§è¡Œæ­¤æŒ‡ä»¤åï¼Œç½‘ç»œæœåŠ¡é‡å¯æˆåŠŸ<br>åŸå¸–: <a href="https://blog.csdn.net/w294954902/article/details/82628909">https://blog.csdn.net/w294954902/article/details/82628909</a></p>
</blockquote>
</li>
</ol>
<h2 id="04"><a href="#04" class="headerlink" title="04"></a>04</h2><ol>
<li>é‡æ–°æ­å»ºåšå®¢è¿‡ç¨‹ä¸­ä¸Šä¼ æ–‡ä»¶å‡ºç°å¤§é‡æŠ¥é”™: <blockquote>
<p>å‘ç°åŸæ¥æ˜¯å› ä¸ºæ›´æ”¹äº†ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­çš„timezone<br>orz å°±å› ä¸ºæˆ‘æ²¡äº‹é—²çš„æŠŠæ—¶åŒºæ”¹æˆäº†Asia/Beijing<br>ç»æ”¹ä¸ºAsia/Shanghaiåä¸Šä¼ ï¼Œå·²æ¢å¤æ­£å¸¸</p>
</blockquote>
</li>
<li>åˆ›å»ºæ–°æ–‡ç« æ—¶ä¸Šä¼ æ–‡ä»¶å¡ä½ï¼Œæ˜¾ç¤ºsshå¯†é’¥è¿æ¥ä¸ä¸Šï¼Œåˆpingäº†ä¸€ä¸‹githubï¼Œå‘ç°è¿æ¥ä¸ä¸Š: <blockquote>
<p>æ‰¾äº†ä¸€ä¸‹åŸå› â€¦åŸæ¥æ˜¯å› ä¸ºå‰ä¸€é˜µgithubè¢«å¢™äº†ï¼Œæˆ‘å°±åœ¨hostæ–‡ä»¶é‡Œæ·»åŠ äº†githubçš„è§£æï¼Œåœ¨æµ‹è¯•æ­¤æ–¹æ³•æ— æ•ˆåæœªåˆ é™¤â€¦<br>åˆ äº†é‚£äº›è§£æåæˆåŠŸè¿æ¥githubï¼Œå¹¶ä¸”åšå®¢ä¹Ÿå¯æ­£å¸¸ç™»å½•</p>
</blockquote>
</li>
<li>ä¸ºåšå®¢æ·»åŠ è®¿é—®é‡ç»Ÿè®¡åŠŸèƒ½å‡ºç°é”™è¯¯:<blockquote>
<p>ç»Ÿè®¡åŠŸèƒ½é‡‡ç”¨çš„æ˜¯ä¸è’œå­ï¼Œæœäº†ä¸€ä¸‹å‘ç°ï¼ŒåŸæ¥æ˜¯å› ä¸ºä¸è’œå­å®˜ç½‘çš„åŸŸåè¿‡æœŸäº†ï¼Œæ‰€ä»¥URLé”™è¯¯â€¦<br>å°†<code>themes\next\layout\_partials</code>ä¸­<code>footer.swig</code>æ–‡ä»¶æ·»åŠ çš„</p>
<figure class="highlight django"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> theme.footer.counter %&#125;</span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">&quot;//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span></span><br></pre></td></tr></table></figure>
<p>æ”¹ä¸º</p>
<figure class="highlight django"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> theme.footer.counter %&#125;</span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">&quot;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span></span><br></pre></td></tr></table></figure>
<p>å®˜æ–¹é€šçŸ¥: <a href="http://ibruce.info/2015/04/04/busuanzi/">http://ibruce.info/2015/04/04/busuanzi/</a></p>
</blockquote>
</li>
</ol>
<h2 id="05"><a href="#05" class="headerlink" title="05"></a>05</h2><ol>
<li>ç”µè„‘é‡åšäº†ç³»ç»Ÿä¹‹åï¼Œä¹‹å‰ç”¨çš„dirsearchçªç„¶ç”¨ä¸äº†äº†ï¼Œå„ç§æŠ¥é”™ï¼Œä¾‹å¦‚<br><img src="https://z3.ax1x.com/2021/05/18/ghYPII.jpg"><br>å’Œè¿™æ ·<br><img src="https://z3.ax1x.com/2021/05/18/ghYCdA.jpg"><br>å› ä¸ºæ‰«ä¸äº†ç½‘ç«™ç›®å½•ï¼Œå¯¼è‡´æˆ‘å¥½ä¸€æ®µæ—¶é—´å†·è½äº†é¶åœº(æ‰ä¸æ˜¯å› ä¸ºæ‡’(/â–½ï¼¼)<br>åæ¥é—®äº†é“é•¿ï¼Œé“é•¿è¯´æ˜¯Pythonåº“ä¸¢å¤±äº†ï¼Œäºæ˜¯BaiduingÂ·Â·Â·<blockquote>
<p><strong>ç¬¬ä¸€ç§é—®é¢˜:</strong><br>ä¸¢å¤±äº†typeåº“</p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">try</span>:</span><br><span class="line">   <span class="keyword">import</span> requests</span><br><span class="line">	except <span class="type">ImportError</span>:</span><br><span class="line">   <span class="keyword">import</span> os</span><br><span class="line">   os.system(&#x27;pip install <span class="class"><span class="keyword">type</span>&#x27;)</span></span><br><span class="line">   <span class="keyword">import</span> requests</span><br></pre></td></tr></table></figure>
<p>è¡¥å……typeåº“</p>
<p><a href="https://blog.csdn.net/sinat_38682860/article/details/102798114">åŸæ–‡é“¾æ¥</a></p>
<p><strong>ç¬¬äºŒç§é—®é¢˜:</strong><br>ä¸¢å¤±cryptographyæ¨¡å—<br>åœ¨cmdä¸­è¾“å…¥<code>pip install cryptography</code>å³å¯</p>
<p><a href="https://blog.csdn.net/weixin_43978056/article/details/105940157">åŸæ–‡é“¾æ¥</a></p>
</blockquote>
</li>
</ol>
]]></content>
      <categories>
        <category>æ‚</category>
      </categories>
      <tags>
        <tag>æ‚</tag>
      </tags>
  </entry>
  <entry>
    <title>Kaliå­¦ä¹ è®°å½•</title>
    <url>/2021/04/03/Kali%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h1 id="Kali"><a href="#Kali" class="headerlink" title="Kali"></a>Kali</h1><p>çŠ¯ç½ªè®°å½•(x)</p>
<span id="more"></span>
<blockquote>
<p>Kaliå­¦çš„å¥½ï¼Œç‰¢é¥­åƒåˆ°é¥±<br>è¿™é‡Œæ˜¯Kaliå­¦ä¹ è®°å½•<del>(çŠ¯ç½ªæ—¥è®°)</del></p>
</blockquote>
]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>CTF æ¸—é€æµ‹è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>0x 00</title>
    <url>/2021/04/02/0x00/</url>
    <content><![CDATA[<h1 id="JUST-A-TEST"><a href="#JUST-A-TEST" class="headerlink" title="JUST A TEST!"></a>JUST A TEST!</h1>]]></content>
  </entry>
</search>
